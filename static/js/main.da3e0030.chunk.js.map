{"version":3,"sources":["components/instruments/boxmask/BoxMask.module.css","components/instruments/box/Box.module.css","components/instruments/boxunit/BoxUnit.module.css","components/instruments/string/String.module.css","components/instruments/layer/Layer.module.css","components/instruments/guitar/Guitar.module.css","registerServiceWorker.js","utils/polyfills.js","lib/rcv/rcv.js","components/instruments/boxmask/BoxMask.js","utils/randId.js","components/instruments/boxunit/BoxUnit.js","components/instruments/ActivationList.js","components/instruments/box/Box.js","components/instruments/string/String.js","components/instruments/layer/Layer.js","components/instruments/guitar/Guitar.js","lib/polygons/Point.js","lib/polygons/Polygon.js","lib/polygons/Rectangle.js","lib/polygons/Triangle.js","utils/settable.js","lib/polygons/Mask.js","lib/music/base.js","lib/music/Note.js","lib/music/Interval.js","lib/music/Scale.js","lib/instruments/Mask.js","lib/instruments/Instrument.js","classes/Style.js","classes/Palette.js","classes/Lesson.js","components/App.js","index.js"],"names":["module","exports","_easing","transition","to","ellipse","shape","enter","leave","_box-width","_box-height","_box-gap","box","svg","unit","_string-gap","string","layer","guitar","isLocalhost","Boolean","window","location","hostname","match","register","navigator","URL","process","origin","addEventListener","swUrl","concat","fetch","then","response","status","headers","get","indexOf","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","console","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","state","controller","error","Object","fromEntries","iterable","toConsumableArray","reduce","obj","_ref","key","val","assign","defineProperty","Array","prototype","flat","_ref2","apply","this","flatObject","o","prefix","arguments","length","undefined","entries","s","slicedToArray","value","charAt","toUpperCase","slice","objectSpread","rcv_rcv","element","_class","_temp","_Component","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","css","styles","$","findDOMNode","assertThisInitialized","getStyles","forEach","_ref3","_ref4","style","setProperty","rcv","isArray","inherits","createClass","React","cloneElement","Component","displayName","type","G","react_default","a","createElement","Rect","Polygon","BoxMask","states","entering","entered","leaving","left","e","onEntered","classList","remove","onLeft","_","action","method","events","animate","_this2","ENTER","LEAVE","setTimeout","add","_this$renderData","renderData","g","_this$renderData$mask","mask","clipPath","rect","data","map","polygon","BoxMask_Polygon","_this3","_this$props","angle","radius","duration","id","url","clip","className","clipPathUnits","x","y","width","height","points","l","Unit","BoxUnit","ActivationList","prev","_this$props$active","active","components","prevLength","classPrivateFieldLooseBase","_components","_this$props$active2","_this$props$length","_this$props$initialPr","initialProps","_this$props$alwaysPro","alwaysProps","_this$props$activePro","activeProps","_this$props$inactiveP","inactiveProps","from","v","i","component","Math","random","toString","substr","Box","_list","writable","IDLE","JSON","stringify","maskInitialProps","maskActiveProps","maskInactiveProps","unitInitialProps","unitActiveProps","MASKS","push","idle","BUSY","ActivationList_ActivationList","findIndex","String","boxes","box_Box","Layer","strings","string_String","Guitar","layers","layer_Layer","Point","_ref$x","_ref$y","clone","coord","vector","translate","opposite","axis","center","rad","PI","cos","sin","d","round","precision","pow","size","fn","point","px","py","cx","cy","scale","rotate","inverse","transform","sep","x1","y1","x2","y2","_ref5","x3","y3","_ref6","x4","y4","b","den","first","_this$points$reduce","carry","minX","min","maxX","max","minY","maxY","join","I","cropLine","p1","p2","inside","pos","J","xI","yI","xJ","yJ","jPos","iIns","jIns","intersection","Rectangle","Triangle","settable","_ref$DEFAULTS","DEFAULTS","_ref$validate","validate","_ref$Base","Base","_ref$prefix","_ref$after","after","_Base","_class2","set","object","name","find","valid","Error","sq2","sqrt","far","mid","diag","SHAPES","_constructor","top","horizontal","bottom","vertical","right","topleft","topright","bottomleft","bottomright","diamond","diagasc","diagdesc","triangle","TRANSITIONS","east","northeast","north","northwest","west","southwest","south","southeast","SUBTYPES","keys","filter","subtype","Mask","_shape","_getShape","crop","_getAngle","_get","w","start","boundingBox","bb","tl","br","getSize","TYPES","includes","_type","_subtype","constructor","_size","_Object$assign","_transition","base","VALUES","NAMES","0","1","2","3","4","5","6","7","8","9","10","11","_settable","other","_name","N","Parent","Cb","C","C#","Db","D","D#","Eb","E","E#","Fb","F","F#","Gb","G#","Ab","A","A#","Bb","B","B#","Note","b2","#2","b3","b4","#4","b5","#5","b6","bb7","b7","Interval","Scale","intervals","root","_intervals","interval","note","equals","definition","position","j","def","_definition","masks","tuning","Instrument","_ref3$masks","_ref3$cb","cb","_tuning","index","stringIndex","stringNote","boxIndex","_from","_to","Style","color","_ref$stroke","stroke","strokeWidth","strokeColor","_color","_radius","_strokeWidth","_strokeColor","Palette","_styles","instrument","timeline","Lesson","_context","delegateYield","_states","Symbol","iterator","_timeline","palette","instrumentMasks","_instrument","empty","toJSON","boxMask","_duration","_boxIterator","stateIndex","layerIndex","ind","prevEmpty","prevRadius","_get2","nextEmpty","nextRadius","_context2","_ref7","_ref8","InstrumentMask","klass","palettes","blue","red","rGreen","sGreen","rBlue","sBlue","squared","cool","last","startsWith","scales","pentam","aeolian","pentaM","ionian","chromatic","boxMasks","brTriangle","fullRect","tlTriangle","trTriangle","instruments","guitarStandard","reverse","Infinity","m","lesson","_ref9","_ref10","App","getState","update","clearTimeout","timer","setState","next","done","guitar_Guitar","ReactDOM","render","components_App","document","getElementById","registerServiceWorker"],"mappings":"mFACAA,EAAAC,QAAA,CAAkBC,QAAA,wCAAAC,WAAA,4BAAAC,GAAA,oBAAAC,QAAA,yBAAAC,MAAA,uBAAAC,MAAA,iDAAAC,MAAA,wECAlBR,EAAAC,QAAA,CAAkBQ,aAAA,OAAAC,cAAA,OAAAC,WAAA,MAAAC,IAAA,iBAAAC,IAAA,oCCAlBb,EAAAC,QAAA,CAAkBa,KAAA,wCCAlBd,EAAAC,QAAA,CAAkBS,cAAA,OAAAK,cAAA,MAAAC,OAAA,yCCAlBhB,EAAAC,QAAA,CAAkBgB,MAAA,uCCAlBjB,EAAAC,QAAA,CAAkBiB,OAAA,4JCSZC,SAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,4DAIS,SAASC,IACtB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAIC,IAAIC,aAAwBP,OAAOC,UAC3CO,SAAWR,OAAOC,SAASO,OAIvC,OAGFR,OAAOS,iBAAiB,OAAQ,WAC9B,IAAMC,EAAK,GAAAC,OAAMJ,aAAN,sBAEPT,EAwCV,SAAiCY,GAE/BE,MAAMF,GACHG,KAAK,SAAAC,GAGkB,MAApBA,EAASC,SACuD,IAAhED,EAASE,QAAQC,IAAI,gBAAgBC,QAAQ,cAG7Cb,UAAUc,cAAcC,MAAMP,KAAK,SAAAQ,GACjCA,EAAaC,aAAaT,KAAK,WAC7Bb,OAAOC,SAASsB,aAKpBC,EAAgBd,KAGnBe,MAAM,WACLC,QAAQC,IACN,mEA5DAC,CAAwBlB,GAGxBc,EAAgBd,MAMxB,SAASc,EAAgBd,GACvBL,UAAUc,cACPf,SAASM,GACTG,KAAK,SAAAQ,GACJA,EAAaQ,cAAgB,WAC3B,IAAMC,EAAmBT,EAAaU,WACtCD,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBG,QACf5B,UAAUc,cAAce,WAK1BR,QAAQC,IAAI,6CAKZD,QAAQC,IAAI,2CAMrBF,MAAM,SAAAU,GACLT,QAAQS,MAAM,4CAA6CA,yBCtEjEC,OAAOC,YAAc,SAACC,GAAD,OACnBF,OAAAG,EAAA,EAAAH,CAAIE,GACHE,OAAO,SAACC,EAADC,GAAA,IAAWC,EAAXD,EAAQ,GAAWE,EAAnBF,EAAgB,GAAhB,OAA6BN,OAAOS,OAAOJ,EAAdL,OAAAU,EAAA,EAAAV,CAAA,GAAsBO,EAAMC,KAAQ,KAE3EG,MAAMC,UAAUC,KAAO,WAAW,IAAAC,EAAE,OAAOA,EAAA,IAAGvC,OAAHwC,MAAAD,EAAAd,OAAAG,EAAA,EAAAH,CAAagB,mFCAlDC,EAAa,SAAbA,EAAcC,GAAD,IAAIC,EAAJC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAa,GAAb,OACfpB,OAAOuB,QAAQL,GACVd,OAAO,SAACc,EAADZ,GAAqB,IAHlBkB,EAGkBV,EAAAd,OAAAyB,EAAA,EAAAzB,CAAAM,EAAA,GAAhBC,EAAgBO,EAAA,GAAXY,EAAWZ,EAAA,GAGzB,OAFAK,IAAWZ,EAAMY,IAJVK,EAI8BjB,GAJvBoB,OAAO,GAAGC,cAAgBJ,EAAEK,MAAM,KAMlC,OAAVH,QAA4BJ,IAAVI,EACX1B,OAAA8B,EAAA,EAAA9B,CAAA,GAAKkB,EAAZlB,OAAAU,EAAA,EAAAV,CAAA,GAAgBO,EAAM,OAEF,kBAAVmB,EAAP1B,OAAA8B,EAAA,EAAA9B,CAAA,GACIkB,EAAMD,EAAWS,EAAOnB,IAD5BP,OAAA8B,EAAA,EAAA9B,CAAA,GAEIkB,EAFJlB,OAAAU,EAAA,EAAAV,CAAA,GAEQO,EAAMmB,KACtB,KAEIK,EAAA,SAAAC,GAAO,IAAAC,EAAAC,EAAA,OAAAA,EAAAD,EAAA,SAAAE,GAId,SAAAF,EAAYG,GAAO,IAAAC,EAAArC,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAAiB,IACfI,EAAArC,OAAAuC,EAAA,EAAAvC,CAAAgB,KAAAhB,OAAAwC,EAAA,EAAAxC,CAAAiC,GAAAQ,KAAAzB,KAAMoB,KA2BVM,IAAM,SAACC,GACH,IAAMC,EAAIC,sBAAY7C,OAAA8C,EAAA,EAAA9C,QAAA8C,EAAA,EAAA9C,CAAAqC,KACjBO,IAELP,EAAKK,IAAIE,EAAIA,EACbD,EAAa1B,EAAWoB,EAAKU,UAAUJ,IAEvC3C,OACKuB,QAAQoB,GACRK,QAAQ,SAAAC,GAAA,IAAAC,EAAAlD,OAAAyB,EAAA,EAAAzB,CAAAiD,EAAA,GAAE1C,EAAF2C,EAAA,GAAOxB,EAAPwB,EAAA,UAAkBN,EAAEO,MAAMC,YAAR,KAAA7E,OAA0BgC,GAAQmB,OAlCjE,IAAM2B,EAAMhB,EAAKD,MAAMiB,IAHR,OAIX1C,MAAM2C,QAAQD,IAA0B,oBAAXA,EAAI,IACjCA,EAAI,GAAGhB,EAAKK,KALDL,EAJL,OAAArC,OAAAuD,EAAA,EAAAvD,CAAAiC,EAAAE,GAAAnC,OAAAwD,EAAA,EAAAxD,CAAAiC,EAAA,EAAA1B,IAAA,oBAAAmB,MAAA,WAcVV,KAAK0B,QAdK,CAAAnC,IAAA,qBAAAmB,MAAA,WAkBVV,KAAK0B,QAlBK,CAAAnC,IAAA,YAAAmB,MAAA,SAqBJiB,GACN,OAAIA,IAEJA,EAAS3B,KAAKoB,MAAMiB,IAEhB1C,MAAM2C,QAAQX,KACdA,EAASA,EAAO,IAEbA,GAAU,MA7BP,CAAApC,IAAA,SAAAmB,MAAA,WA6CV,IAAMU,EAAKpC,OAAA8B,EAAA,EAAA9B,CAAA,GAAQgB,KAAKoB,OAGxB,cAFOA,EAAMiB,IAENI,IAAMC,aAAa1B,EAASI,OAhDzBH,EAAA,CACJ0B,aADI1B,EAEP2B,YAFO,OAAArF,OAEeyD,EAAQ6B,KAFvB,KAAA3B,oBCbhB4B,EAAUT,EAAIU,EAAAC,EAAAC,cAAA,WACdC,EAAUb,EAAIU,EAAAC,EAAAC,cAAA,cACdE,EAAUd,EAAIU,EAAAC,EAAAC,cAAA,iBAECG,cAYjB,SAAAA,EAAYhC,GAAO,IAAAC,EAAA,OAAArC,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAAoD,IACf/B,EAAArC,OAAAuC,EAAA,EAAAvC,CAAAgB,KAAAhB,OAAAwC,EAAA,EAAAxC,CAAAoE,GAAA3B,KAAAzB,KAAMoB,KAVViB,IAAS,GASUhB,EARnBgC,OAAS,CAELC,UAAU,EACVC,SAAU,EACVC,SAAU,EACVC,MAAU,GAGKpC,EAsDnBkC,QAAU,SAAAG,GACDrC,EAAKgC,OAAOC,WAEjBjC,EAAKgC,OAAOC,UAAW,EACvBjC,EAAKgC,OAAOE,SAAW,EAEvBlC,EAAKsC,UAAL3E,OAAA8C,EAAA,EAAA9C,QAAA8C,EAAA,EAAA9C,CAAAqC,IAAqBqC,KA5DNrC,EA+DnBoC,KAAO,SAAAC,GACErC,EAAKgC,OAAOG,UAEjBnC,EAAKgC,OAAOG,SAAU,EACtBnC,EAAKgC,OAAOI,MAAU,EAEtBpC,EAAKgB,IAAIvG,MAAM8F,EAAEgC,UAAUC,OAAOlC,IAAOhG,IACzC0F,EAAKyC,OAAL9E,OAAA8C,EAAA,EAAA9C,QAAA8C,EAAA,EAAA9C,CAAAqC,IAAkBqC,KAnElBrC,EAAKsC,UAAYtC,EAAKD,MAAMuC,WAAc,SAAAI,GAAC,OAAIA,GAC/C1C,EAAKyC,OAAYzC,EAAKD,MAAM0C,QAAc,SAAAC,GAAC,OAAIA,GAJhC1C,sEAOZ2C,GACH,IAAMC,EAASD,EAAS,gBAExBhE,KAAKqC,IAAIvG,MAAM8F,EAAEqC,GAAQ,gBAAiBjE,KAAKuD,SAC/CvD,KAAKqC,IAAItG,MAAM6F,EAAEqC,GAAQ,gBAAiBjE,KAAKyD,kDAI/CzD,KAAKkE,OAAO,OACZlE,KAAKmE,SAAQ,gDAIbnE,KAAKmE,yDAILnE,KAAKkE,OAAO,4CAGO,IAAAE,EAAApE,KACbmE,EAAU,WACRC,EAAKhD,MAAM+C,UAAYf,EAAQiB,OAC/BD,EAAKtI,QAELsI,EAAKhD,MAAM+C,UAAYf,EAAQkB,OAC/BF,EAAKrI,SANMqE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GASXmE,WAAWJ,GAAWA,oCAI1BnE,KAAKqD,OAAOC,WAEhBtD,KAAKqD,OAAOC,UAAW,EACvBtD,KAAKqC,IAAItG,MAAM6F,EAAEgC,UAAUC,OAAOlC,IAAOhG,IACzCqE,KAAKqC,IAAIvG,MAAM8F,EAAEgC,UAAUY,IAAI7C,IAAOhG,qCAIlCqE,KAAKqD,OAAOG,UAEhBxD,KAAKqD,OAAOG,SAAU,EACtBxD,KAAKqC,IAAItG,MAAM6F,EAAEgC,UAAUY,IAAI7C,IAAOhG,sCAsBjC,IAAA8I,EACyCzE,KAAK0E,aAA3CC,EADHF,EACGE,EADHC,EAAAH,EACMI,KAAQC,EADdF,EACcE,SAAUC,EADxBH,EACwBG,KAAQC,EADhCP,EACgCO,KAErC,OACIjC,EAAAC,EAAAC,cAACH,EAAO6B,EACJ5B,EAAAC,EAAAC,cAAA,WAAe6B,EACX/B,EAAAC,EAAAC,cAACC,EAAU6B,IAEbC,EAAKC,IAAI,SAAA3F,GAAA,IAAGwF,EAAHxF,EAAGwF,SAAUI,EAAb5F,EAAa4F,QAAb,OACPnC,EAAAC,EAAAC,cAAA,WAAe6B,EACX/B,EAAAC,EAAAC,cAACkC,EAAaD,4CAOrB,IAAAE,EAAApF,KAAAqF,EAC2BrF,KAAKoB,MAAjCkE,EADCD,EACDC,MAAOC,EADNF,EACME,OAAQC,EADdH,EACcG,SAEjBC,EAAO,SAAA5C,GAAI,OAAIA,EAAI,GAAAtF,OAAO6H,EAAKhE,MAAMqE,GAAlB,KAAAlI,OAA0BsF,GAAU,MACvD6C,EAAO,SAAAD,GAAE,OAAMA,EAAE,SAAAlI,OAAekI,EAAf,MAAsC,MACvDE,EAAO3G,OAAOC,YAChB,CAAC,CAAC,QAAS,SAAU,CAAC,QAAS,UAAUgG,IAAI,SAAAnF,GAAA,IAAAmC,EAAAjD,OAAAyB,EAAA,EAAAzB,CAAAc,EAAA,GAAEI,EAAF+B,EAAA,GAAK0D,EAAL1D,EAAA,SAAe,CAAC/B,EAAGwF,EAAID,EAAGE,QA6C3E,MAAO,CAAEhB,EA1CC,CACNiB,UAAWjE,IAAOkD,KAClBxC,IAAK,CACDiD,MAAK,GAAA/H,QAAO+H,EAAP,OACLE,aAsCIX,KAlCC,CACTC,SAAU,CACNW,GAAeA,EAAG,QAClBX,SAAeY,EAAID,EAAG,UACtBI,cAAe,qBAEnBd,KAAM,CACFa,UAAWjE,IAAO/F,QAClBkK,EAAQ,IACRC,EAAQ,IACRC,MAAQ,IACRC,OAAQ,IACR5D,IAAQ,CAAEkD,YAsBAP,KAlBL,CAAC,QAAS,QAAS,SAC3BC,IAAI,SAAA1F,GAAG,MAAK,CACTuF,SAAU,CACNvF,MACAkG,GAAeA,EAAGlG,GAClBuF,SAAea,EAAKpG,GACpBsG,cAAe,qBAEnBX,QAAS,CACLU,UAAWjE,IAAOpC,GAClB2G,OAAWd,EAAKhE,MAAM7B,GAAK1D,MAC3BwG,IAAW,CACP,CAAE2D,MAAK,GAAAzI,OAAM6H,EAAKhE,MAAM7B,GAAKyG,MAAtB,OACP,SAAA3D,GAAG,OAAI+C,EAAK/C,IAAI9C,GAAO8C,gBApJVM,aAAhBS,EACViB,MAAQ,QADEjB,EAEVkB,MAAQ,YCVJ6B,mBCITC,EAAO/D,EAAIU,EAAAC,EAAAC,cAAA,cAaFoD,mLAVF,IAAAhB,EACmBrF,KAAKoB,MAArBe,EADHkD,EACGlD,MAAOwD,EADVN,EACUM,KACTtD,EAAGrD,OAAA8B,EAAA,EAAA9B,CAAA,GAAQmD,EAAR,CAAewD,SAExB,OACI5C,EAAAC,EAAAC,cAACmD,EAAD,CAAMR,UAAYjE,IAAOtF,KAAOgG,IAAMA,WAN5BM,aCJD2D,mRACH,OACdC,MAAO,0EAkDE,IAAAC,EAC0BxG,KAAKoB,MAA5BqF,cADH,IAAAD,EACYxG,KAAKuG,KADjBC,EAECE,EAAa1G,KAAK0G,WAGxB,OAFA1G,KAAKuG,KAAcE,EAEZC,qCArDM,IAAAtC,EAAApE,KACP2G,EAAa3H,OAAA4H,EAAA,EAAA5H,CAAAgB,KAAA6G,MAAiBxG,OADvBgF,EAUTrF,KAAKoB,MAPLuB,EAHS0C,EAGT1C,UAHSmE,EAAAzB,EAIToB,cAJS,IAAAK,EAIO9G,KAAKuG,KAJZO,EAAAC,EAAA1B,EAKThF,cALS,IAAA0G,EAKOJ,EALPI,EAAAC,EAAA3B,EAMT4B,oBANS,IAAAD,EAMO,SAAAjD,GAAC,OAAIA,GANZiD,EAAAE,EAAA7B,EAOT8B,mBAPS,IAAAD,EAOO,SAAAnD,GAAC,OAAIA,GAPZmD,EAAAE,EAAA/B,EAQTgC,mBARS,IAAAD,EAQO,SAAArD,GAAC,OAAIA,GARZqD,EAAAE,EAAAjC,EASTkC,qBATS,IAAAD,EASO,SAAAvD,GAAC,OAAIA,GATZuD,EA6Cb,OAhCAtI,OAAA4H,EAAA,EAAA5H,CAAAgB,KAAA6G,MAAmB7H,OAAA4H,EAAA,EAAA5H,CAAAgB,KAAA6G,MAEdhG,MAAM,EAAGR,GAET9C,OACGoJ,GAActG,EACR,GACAV,MAAM6H,KACJ7H,MAAMU,EAASsG,GACf,SAACc,EAAGC,GAAJ,OACIjF,IAAMC,aACDK,EAAAC,EAAAC,cAACN,EAAD,MACDsE,EAAaS,OAKhCzC,IAAI,SAAC0C,EAAWD,GAAZ,OACDjF,IAAMC,aACFiF,EADJ3I,OAAA8B,EAAA,EAAA9B,CAAA,GAGWmI,EAAYO,EAAGtD,EAAKmC,OACnBmB,IAAMjB,EACNY,EACAE,GACF9F,KAAK,KAAMiG,EAAGtD,EAAKmC,MAP7B,CAQQmB,IACAnI,IAAKmI,OAKd1I,OAAA4H,EAAA,EAAA5H,CAAAgB,KAAP6G,aAjDoClE,0DCKtC8C,GHPSU,EGOG,GHPE,kBAAMyB,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG5B,KGQxDuB,EAAI,EAELM,cAMF,SAAAA,EAAY5G,GAAO,IAAAC,EAAArC,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAAgI,GACf3G,EAAArC,OAAAuC,EAAA,EAAAvC,CAAAgB,KAAAhB,OAAAwC,EAAA,EAAAxC,CAAAgJ,GAAAvG,KAAAzB,KAAMoB,IADSpC,OAAAU,eAAAV,OAAA8C,EAAA,EAAA9C,QAAA8C,EAAA,EAAA9C,CAAAqC,IAAA4G,EAAA,CAAAC,UAAA,EAAAxH,MAFX,KAEWW,EA0BnBwC,OAAS,SAAAgB,GACL7F,OAAA4H,EAAA,EAAA5H,QAAA8C,EAAA,EAAA9C,QAAA8C,EAAA,EAAA9C,CAAAqC,IAAA4G,MAAWpD,EAAKzD,MAAMsG,GAAKM,EAAIG,KAC/B7J,QAAQC,IAAI,UAAWsG,EAAKzD,MAAMsG,EAAGU,KAAKC,UAALrJ,OAAA4H,EAAA,EAAA5H,QAAA8C,EAAA,EAAA9C,QAAA8C,EAAA,EAAA9C,CAAAqC,IAAA4G,SA5BtB5G,EA4DnBiH,iBAAmB,SAAAZ,GAAC,MAAK,CACrBjC,GAAE,GAAAlI,OAAY8D,EAAKoE,GAAjB,KAAAlI,OAAyBmK,GAC3BlC,SAAUnE,EAAKD,MAAMoE,SACrBF,MAAUjE,EAAKD,MAAMyD,KAAKS,MAC1BzJ,MAAUwF,EAAKD,MAAMyD,KAAKhJ,MAC1BC,MAAU,CAAED,MAAO,GAAImK,MAAO,GAC9BjK,MAAU,CAAEF,MAAO,GAAImK,MAAO,GAC9BlC,OAAUzC,EAAKwC,SAnEAxC,EAsEnBkH,gBAAkB,SAAAb,GAAC,MAAK,CACpBvD,QAASf,EAAQiB,MACjBvI,MAASuF,EAAKD,MAAMyD,KAAK/I,MACzBC,MAASsF,EAAKD,MAAMyD,KAAK9I,MACzBwJ,OAASlE,EAAKD,MAAMe,MAAMoD,SA1EXlE,EA6EnBmH,kBAAoB,SAACd,EAAGnB,GAAJ,MAAc,CAC9BpC,QAASoC,IAASmB,EAAItE,EAAQkB,MAAQ,OA9EvBjD,EAiFnBoH,iBAAmB,SAAAf,GAAC,MAAK,CACrB/B,KAAI,SAAApI,OAAY8D,EAAKoE,GAAjB,KAAAlI,OAAyBmK,EAAzB,aAlFWrG,EAqFnBqH,gBAAkB,SAAAhB,GAAC,MAAK,CACpBvF,MAAOd,EAAKD,MAAMe,QAnFlBd,EAAKoE,GAAL,GAAAlI,OAAckI,IAAd,KAAAlI,SAA0BmK,GAG1B,IAAI,IAAIA,EAAI,EAAGA,EAAIM,EAAIW,QAASjB,EAC5B1I,OAAA4H,EAAA,EAAA5H,QAAA8C,EAAA,EAAA9C,QAAA8C,EAAA,EAAA9C,CAAAqC,IAAA4G,MAAWW,KAAKZ,EAAIG,MAPT,OAAA9G,wEAgCf,IAAMwH,EAAO7I,KAAK6I,KAGlB,OAFA7J,OAAA4H,EAAA,EAAA5H,CAAAgB,KAAAiI,MAAWY,GAAQb,EAAIc,KAGnB/F,EAAAC,EAAAC,cAAA,OAAK2C,UAAYjE,IAAOxF,KACtB4G,EAAAC,EAAAC,cAAA,OAAK2C,UAAYjE,IAAOvF,KAClB2G,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC8F,EAAD,CACIpG,UAAgBS,EAChB/C,OAAgBL,KAAKK,OACrBoG,OAAgBoC,EAChB5B,aAAgBjH,KAAKsI,iBACrBjB,YAAgBrH,KAAKuI,gBACrBhB,cAAgBvH,KAAKwI,qBAG7BzF,EAAAC,EAAAC,cAAC8F,EAAD,CACIpG,UAAe0D,EACfhG,OAAeL,KAAKK,OACpBoG,OAAeoC,EACf5B,aAAejH,KAAKyI,iBACpBpB,YAAerH,KAAK0I,mDA1CpC,OAAO1J,OAAA4H,EAAA,EAAA5H,CAAAgB,KAAAiI,MAAW5H,oCAIlB,IAAIwI,EAAO7J,OAAA4H,EAAA,EAAA5H,CAAAgB,KAAAiI,MAAWe,UAAU,SAAAnK,GAAK,OAAIA,IAAUmJ,EAAIG,OAQvD,OANa,IAAVU,IACC7J,OAAA4H,EAAA,EAAA5H,CAAAgB,KAAAiI,MAAWW,KAAKZ,EAAIG,MACpBU,EAAO7I,KAAKK,OAAS,GAEzB/B,QAAQC,IAAI,cAAe,oBAAqBsK,EAAMT,KAAKC,UAALrJ,OAAA4H,EAAA,EAAA5H,CAAegB,KAAfiI,QAE/CY,SA7BGlG,mCAAZqF,EACKW,MAAQ,EADbX,EAEKG,KAAQ,OAFbH,EAGKc,KAAQ,OA6FJd,yBC1FAiB,mLAVP,OACIlG,EAAAC,EAAAC,cAAA,UAAQ2C,UAAYjE,IAAOpF,QACrByD,KAAKoB,MAAM8H,MAAMjE,IAAI,SAAA3F,EAA4BoI,GAA5B,IAAGvF,EAAH7C,EAAG6C,MAAO0C,EAAVvF,EAAUuF,KAAMW,EAAhBlG,EAAgBkG,SAAhB,OACnBzC,EAAAC,EAAAC,cAACkG,EAAD,CAAK5J,IAAMmI,EAAIvF,MAAQA,EAAQ0C,KAAOA,EAAOW,SAAWA,cALvD7C,8BCYNyG,mLAVP,OACIrG,EAAAC,EAAAC,cAAA,SAAO2C,UAAYjE,IAAOnF,OACpBwD,KAAKoB,MAAMiI,QAAQpE,IAAI,SAAA3F,EAAYoI,GAAZ,IAAGwB,EAAH5J,EAAG4J,MAAH,OACrBnG,EAAAC,EAAAC,cAACqG,EAAD,CAAQ/J,IAAMmI,EAAIwB,MAAQA,cAL1BvG,8BCYL4G,mLAVP,OACIxG,EAAAC,EAAAC,cAAA,UAAQ2C,UAAYjE,IAAOlF,QACrBuD,KAAKoB,MAAMoI,OAAOvE,IAAI,SAACzI,EAAOkL,GAAR,OACpB3E,EAAAC,EAAAC,cAACwG,EAADzK,OAAAS,OAAA,CAAOF,IAAMmI,GAASlL,cALrBmG,aCJA+G,aACnB,SAAAA,IAAmC,IAAApK,EAAAc,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAIuJ,EAAArK,EAArBwG,SAAqB,IAAA6D,EAAjB,EAAiBA,EAAAC,EAAAtK,EAAdyG,SAAc,IAAA6D,EAAV,EAAUA,EAAA5K,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAA0J,GACjC1J,KAAK8F,EAAIA,GAAK,EACd9F,KAAK+F,EAAIA,GAAK,yDAId,OAAO/F,KAAK6J,MAAM,SAAAC,GAAK,OAAKA,wCAGE,IAAtBC,EAAsB3J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,IAAIsJ,EACrB,OAAO,IAAIA,EAAM,CACf5D,EAAG9F,KAAK8F,EAAIiE,EAAOjE,EACnBC,EAAG/F,KAAK+F,EAAIgE,EAAOhE,oCAI0B,IAA3CrF,EAA2CN,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAnC,IAAIsJ,EAAStM,EAAsBgD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,IAAIsJ,EAItC,MAHqB,kBAAVhJ,IACTA,EAAQ,IAAIgJ,EAAM,CAAE5D,EAAGpF,EAAOqF,EAAGrF,KAE5BtD,EACJ4M,UACChK,KACGgK,UAAU5M,EAAO6M,YACjBJ,MAAM,SAACC,EAAOI,GAAR,OAAiBJ,EAAQpJ,EAAMwJ,uCAIN,IAAjC5E,EAAiClF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzB,EAAG+J,EAAsB/J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,IAAIsJ,EACvBU,GAAQ,EAAIxC,KAAKyC,GAAK/E,EAAQ,IAC9BgF,EAAM1C,KAAK0C,IAAIF,GACfG,EAAM3C,KAAK2C,IAAIH,GAEfI,EAAIxK,KAAKgK,UAAUG,EAAOF,YAC1BnE,EAAI0E,EAAE1E,EAAIwE,EAAME,EAAEzE,EAAIwE,EACtBxE,EAAIyE,EAAE1E,EAAIyE,EAAMC,EAAEzE,EAAIuE,EAG5B,OAAOH,EACJH,UAAU,IAAIN,EAAM,CAAE5D,IAAGC,OACzB0E,MAAM,mCAGU,IAAfC,EAAetK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAH,EAChB,OAAOJ,KAAK6J,MACV,SAAAC,GAAK,OACFlC,KAAK6C,MAAMX,EAAQlC,KAAK+C,IAAI,GAAID,IAAc9C,KAAK+C,IAAI,GAAID,IAAe,yCAIrC,IAAjCE,EAAiCxK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA1B,IAAIsJ,EAASmB,EAAazK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAR,SAAA2D,GAAC,OAAIA,GACjC+G,EAAS9K,KAAK6J,QACdM,EAASS,EAAKf,MAAM,SAAAC,GAAK,OAAIA,EAAQ,IAErCxE,EAAS,WAAM,IAAAxF,EACM,CAACgL,EAAMhF,EAAGgF,EAAM/E,EAAGoE,EAAOrE,EAAGqE,EAAOpE,GAAtDgF,EADYjL,EAAA,GACRkL,EADQlL,EAAA,GACJmL,EADInL,EAAA,GACAoL,EADApL,EAAA,GAGnB,OAAIiL,EAAKE,GAAMD,EAAKE,EAAW,EAC3BH,EAAKE,GAAMD,EAAKE,GAAY,GAC5BH,EAAKE,GAAMD,EAAKE,GAAY,KACxB,IANK,GAYf,OAFkB,SAAAJ,GAAK,OAAIA,EAAMK,MAAM,IAAKnB,UAAUG,GAAQiB,OAAO9F,EAAO6E,GAErEkB,CAAQR,EAHG,SAAAC,GAAK,OAAIA,EAAMM,QAAQ9F,EAAO6E,GAAQH,UAAUG,EAAOF,YAAYkB,MAAM,GAGzEG,CAAUR,qCAGX,IAAbD,EAAazK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAR,SAAA2D,GAAC,OAAIA,GACd,OAAO,IAAI2F,EAAM,CAAE5D,EAAG+E,EAAG7K,KAAK8F,EAAG,KAAMC,EAAG8E,EAAG7K,KAAK+F,EAAG,0CAGxB,IAAtB1J,EAAsB+D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAImL,EAAWnL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAL,IACxB,SAAA7C,OAAWyC,KAAK8F,GAAhBvI,OAAsBlB,GAAtBkB,OAA+BgO,GAA/BhO,OAAuCyC,KAAK+F,GAA5CxI,OAAkDlB,4CAQlD,IAAA4F,EAAA7B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAJmB,IAAIsJ,EAAlB8B,EAILvJ,EAJE6D,EAAU2F,EAIZxJ,EAJS8D,EAIT7D,EAAA9B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHmB,IAAIsJ,EAAlBgC,EAGLxJ,EAHE4D,EAAU6F,EAGZzJ,EAHS6D,EAGT6F,EAAAxL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFmB,IAAIsJ,EAAlBmC,EAELD,EAFE9F,EAAUgG,EAEZF,EAFS7F,EAETgG,EAAA3L,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADmB,IAAIsJ,EAAlBsC,EACLD,EADEjG,EAAUmG,EACZF,EADShG,EAEH/C,EAAOwI,EAAKG,EAAKF,EAAKC,EACtBQ,EAAOL,EAAKI,EAAKH,EAAKE,EAGtBG,GAAQX,EAAKE,IAAOI,EAAKG,IAAOR,EAAKE,IAAOE,EAAKG,GAKvD,OAAO,IAAItC,EAAM,CAAE5D,GAPN9C,GAAK6I,EAAKG,GAAME,GAAKV,EAAKE,IAItBS,EAGKpG,GANT/C,GAAK8I,EAAKG,GAAMC,GAAKT,EAAKE,IAItBQ,aCzFAhJ,cAGnB,SAAAA,IAAyB,IAAb+C,EAAa9F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAIpB,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAAmD,GAAAnD,KAFzBkG,OAAS,GAGPlG,KAAKkG,OAASA,0DAGgB,IAAtB6D,EAAsB3J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,IAAIsJ,EACrB,OAAO1J,KAAK6J,MAAM,SAAAiB,GAAK,OAAIA,EAAMd,UAAUD,sCAGL,IAAjCzE,EAAiClF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzB,EAAG+J,EAAsB/J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,IAAIsJ,EAC7B,OAAO1J,KAAK6J,MAAM,SAAAiB,GAAK,OAAIA,EAAMM,OAAO9F,EAAO6E,qCAGA,IAA3CzJ,EAA2CN,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAnC,IAAIsJ,EAAStM,EAAsBgD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,IAAIsJ,EACtC,OAAO1J,KAAK6J,MAAM,SAAAiB,GAAK,OAAIA,EAAMK,MAAMzK,EAAOtD,2CAI9C,IAAMgP,EAAQpM,KAAKkG,OAAO,IAAM,IAAIwD,EADxB2C,EAGuBrM,KAAKkG,OACrC9G,OACC,SAACkN,EAAOxB,GAAR,MAAmB,CACjByB,KAAM3E,KAAK4E,IAAIF,EAAMC,KAAMzB,EAAMhF,GACjC2G,KAAM7E,KAAK8E,IAAIJ,EAAMG,KAAM3B,EAAMhF,GACjC6G,KAAM/E,KAAK4E,IAAIF,EAAMK,KAAM7B,EAAM/E,GACjC6G,KAAMhF,KAAK8E,IAAIJ,EAAMM,KAAM9B,EAAM/E,KAEnC,CAAEwG,KAAMH,EAAMtG,EAAG2G,KAAML,EAAMtG,EAAG6G,KAAMP,EAAMrG,EAAG6G,KAAMR,EAAMrG,IARvDwG,EAHIF,EAGJE,KAAME,EAHFJ,EAGEI,KAAME,EAHRN,EAGQM,KAAMC,EAHdP,EAGcO,KAW1B,OAAO,IAAIzJ,EAAQ,CACjB,IAAIuG,EAAM,CAAE5D,EAAGyG,EAAMxG,EAAG4G,IACxB,IAAIjD,EAAM,CAAE5D,EAAG2G,EAAM1G,EAAG4G,IACxB,IAAIjD,EAAM,CAAE5D,EAAG2G,EAAM1G,EAAG6G,IACxB,IAAIlD,EAAM,CAAE5D,EAAGyG,EAAMxG,EAAG6G,sCAIT,IAAb/B,EAAazK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAR,SAAA2D,GAAC,OAAIA,GACd,OAAO,IAAIZ,EACTnD,KAAKkG,OAAOjB,IACV,SAAC6F,EAAOpD,GAAR,OAAcmD,EAAGC,EAAMjB,QAASnC,yCAMpC,OAAO1H,KAAKkG,OAAOjB,IAAI,SAAA6F,GAAK,OAAIA,EAAMhD,aAAY+E,KAAK,oCAK9B,IACnB3G,GADmB9F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,IAAI+C,GACM+C,OACd7F,EAAS6F,EAAO7F,OAEtB,OAAO6F,EAAO9G,OACZ,SAAC8F,EAAS4H,EAAGpF,GAAb,OAAmBxC,EAAQ6H,SAASD,EAAG5G,GAAQwB,EAAI,GAAKrH,KACxDL,yCAIqE,IAAAV,EAAAc,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7C,IAAIsJ,EAAlB8B,EAA2DlM,EAA9DwG,EAAU2F,EAAoDnM,EAAvDyG,EAAuDjG,EAAAM,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,IAAIsJ,EAAlBgC,EAA2B5L,EAA9BgG,EAAU6F,EAAoB7L,EAAvBiG,EAC1CG,EAASlG,KAAK6J,QAAQ3D,OACtB7F,EAAS6F,EAAO7F,OAEhB2M,EAAK,IAAItD,EAAM,CAAE5D,EAAG0F,EAAIzF,EAAG0F,IAC3BwB,EAAK,IAAIvD,EAAM,CAAE5D,EAAG4F,EAAI3F,EAAG4F,IAG3BuB,EAAS,SAAAC,GAAG,OAAIA,EAAM,GAE5B,OAAOjH,EAAO9G,OACZ,SAAC8F,EAAS4H,EAAGpF,GACX,IAAM0F,EAAIlH,GAAQwB,EAAI,GAAKrH,GAChBgN,EAAcP,EAAjBhH,EAAUwH,EAAOR,EAAV/G,EACJwH,EAAcH,EAAjBtH,EAAU0H,EAAOJ,EAAVrH,EAGT0H,GAAQ/B,EAAKF,IAAOgC,EAAK/B,IAAOE,EAAKF,IAAO8B,EAAK/B,GACjDkC,EAAOR,GAFCxB,EAAKF,IAAO8B,EAAK7B,IAAOE,EAAKF,IAAO4B,EAAK7B,IAGjDmC,EAAOT,EAAOO,GAWpB,OATIC,GAAQC,EACVzI,EAAQgB,OAAO0C,KAAKwE,IACVM,GAAQC,GAClBzI,EAAQgB,OAAO0C,KAAKc,EAAMkE,aAAaZ,EAAIC,EAAIH,EAAGM,IAClDlI,EAAQgB,OAAO0C,KAAKwE,IACXM,IAASC,GAClBzI,EAAQgB,OAAO0C,KAAKc,EAAMkE,aAAaZ,EAAIC,EAAIH,EAAGM,IAG7ClI,GAET,IAAI/B,YChGW0K,eACnB,SAAAA,IAAgC,IAAAxM,EAApBuJ,EAAoBxK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,IAAIsJ,EAAS,OAAA1K,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAA6N,IAC9BxM,EAAArC,OAAAuC,EAAA,EAAAvC,CAAAgB,KAAAhB,OAAAwC,EAAA,EAAAxC,CAAA6O,GAAApM,KAAAzB,QAEKkG,OAAS,CACZ,IAAIwD,EACJ,IAAIA,EAAM,CAAE5D,EAAG8E,EAAK9E,IACpB,IAAI4D,EAAM,CAAE5D,EAAG8E,EAAK9E,EAAGC,EAAG6E,EAAK7E,IAC/B,IAAI2D,EAAM,CAAE3D,EAAG6E,EAAK7E,KAPQ1E,6BADK8B,ICAlB2K,eACnB,SAAAA,IAAgC,IAAAzM,EAApBuJ,EAAoBxK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,IAAIsJ,EAAS,OAAA1K,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAA8N,IAC9BzM,EAAArC,OAAAuC,EAAA,EAAAvC,CAAAgB,KAAAhB,OAAAwC,EAAA,EAAAxC,CAAA8O,GAAArM,KAAAzB,QAEKkG,OAAS,CACZ,IAAIwD,EACJ,IAAIA,EAAM,CAAE5D,EAAG8E,EAAK9E,IACpB,IAAI4D,EAAM,CAAE3D,EAAG6E,EAAK7E,KANQ1E,6BADI8B,ICHvB4K,GAAA,SAAAzO,GAAA,IAAA0O,EAAA1O,EACb2O,gBADa,IAAAD,EACF,GADEA,EAAAE,EAAA5O,EAEb6O,gBAFa,IAAAD,EAEF,SAAAnK,GAAC,OAAI,GAFHmK,EAAAE,EAAA9O,EAGb+O,YAHa,IAAAD,EAAA,2BAAAnN,IAAAjC,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAAiB,IAAA,GAAAmN,EAAAE,EAAAhP,EAIba,cAJa,IAAAmO,EAIJ,IAJIA,EAAAC,EAAAjP,EAKbkP,aALa,IAAAD,EAKL,KALKA,EAAA,gBAAAE,GAOb,SAAAC,EAAYtN,GAAO,IAAAC,EAAA,OAAArC,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAA0O,IACjBrN,EAAArC,OAAAuC,EAAA,EAAAvC,CAAAgB,KAAAhB,OAAAwC,EAAA,EAAAxC,CAAA0P,GAAAjN,KAAAzB,QACK2O,IAAIvN,GAFQC,EAPN,OAAArC,OAAAuD,EAAA,EAAAvD,CAAA0P,EAAAD,GAAAzP,OAAAwD,EAAA,EAAAxD,CAAA0P,EAAA,EAAAnP,IAAA,MAAAmB,MAAA,SAYTU,GAAO,IAAAgD,EAAApE,KACH4O,EAAS,GACf5P,OAAOuB,QAAQ0N,GACZjM,QAAQ,SAAAlC,GAAA,IAAAmC,EAAAjD,OAAAyB,EAAA,EAAAzB,CAAAc,EAAA,GAAE+O,EAAF5M,EAAA,GAAQvB,EAARuB,EAAA,UACP2M,EAAOC,GAAQ,CAACzN,EAAMyN,GAAOzK,EAAKjE,EAAS0O,GAAOnO,GAAOoO,KAAK,SAAApO,GAAK,YAAcJ,IAAVI,MAG3E,IAAIqO,EAAQZ,EAASS,GACrB,IAAc,IAAVG,GAA6B,OAAVA,EACrB,MAAM,IAAIC,MAAM,gBAAiB5N,GAUnC,OARc,IAAV2N,QAA4BzO,IAAVyO,IACpBA,EAAQH,GAEV5P,OAAOuB,QAAQwO,GACV/M,QAAQ,SAAAE,GAAA,IAAA0J,EAAA5M,OAAAyB,EAAA,EAAAzB,CAAAkD,EAAA,GAAE2M,EAAFjD,EAAA,GAAQlL,EAARkL,EAAA,UAAmBxH,EAAKjE,EAAS0O,GAAQnO,IAEtD8N,GAASxO,KAAKwO,IAAUxO,KAAKwO,KAEtBxO,SA/BI0O,EAAA,CAMKL,ICAdY,GAAOrH,KAAKsH,KAAK,GACjBC,GAAO,SAAA3O,GAAC,OAAK,EAAIA,GACjB4O,GAAO,SAAA5O,GAAC,OAAK,EAAIA,GAAK,GACtB6O,GAAO,SAAA7O,GAAC,MAAK,CAAEoK,KAAM,CAAE9E,EAAGmJ,GAAMzO,EAAGuF,EAAGkJ,IAAOjF,UAAW,CAAElE,EAAGsJ,GAAIH,GAAMzO,GAAIuF,EAAGqJ,GAAIH,OAElFK,GAAS,CACbvK,KAAM,CACJwK,aAAc1B,GACd2B,IAAc,SAAAhP,GAAC,MAAK,CAAEoK,KAAM,CAAE7E,EAAGvF,KACjCiP,WAAc,SAAAjP,GAAC,MAAK,CAAEoK,KAAM,CAAE7E,EAAGvF,GAAKwJ,UAAW,CAAEjE,EAAGqJ,GAAI5O,MAC1DkP,OAAc,SAAAlP,GAAC,MAAK,CAAEoK,KAAM,CAAE7E,EAAGvF,GAAKwJ,UAAW,CAAEjE,EAAGoJ,GAAI3O,MAC1DiD,KAAc,SAAAjD,GAAC,MAAK,CAAEoK,KAAM,CAAE9E,EAAGtF,KACjCmP,SAAc,SAAAnP,GAAC,MAAK,CAAEoK,KAAM,CAAE9E,EAAGtF,EAbxB,KAaiCwJ,UAAW,CAAElE,EAAGsJ,GAAI5O,EAbrD,QAcToP,MAAc,SAAApP,GAAC,MAAK,CAAEoK,KAAM,CAAE9E,EAAGtF,GAAKwJ,UAAW,CAAElE,EAAGqJ,GAAI3O,MAC1DqP,QAAc,SAAArP,GAAC,MAAK,CAAEoK,KAAMpK,IAC5BsP,SAAc,SAAAtP,GAAC,MAAK,CAAEoK,KAAMpK,EAAGwJ,UAAW,CAAElE,EAAG,MAC/CiK,WAAc,SAAAvP,GAAC,MAAK,CAAEoK,KAAMpK,EAAGwJ,UAAW,CAAEjE,EAAG,MAC/CiK,YAAc,SAAAxP,GAAC,MAAK,CAAEoK,KAAMpK,EAAGwJ,UAAgB,KAC/CiG,QAAc,SAAAzP,GAAC,MAAK,CAAEoK,KAAMpK,EAAG4K,OAAQ,GAAID,MAAO,EAAI8D,KACtDiB,QAAc,SAAA1P,GAAC,OAAAxB,OAAA8B,EAAA,EAAA9B,CAAA,GAAUqQ,GAAK7O,GAAf,CAAmB4K,QAAS,MAC3C+E,SAAc,SAAA3P,GAAC,OAAAxB,OAAA8B,EAAA,EAAA9B,CAAA,GAAUqQ,GAAK7O,GAAf,CAAmB4K,OAAS,OAE7CgF,SAAU,CACRb,aAAczB,GACd+B,QAAc,SAAArP,GAAC,MAAK,CAAEoK,KAAM,EAAIpK,EAzBvB,MA0BTsP,SAAc,SAAAtP,GAAC,MAAK,CAAEoK,KAAM,EAAIpK,EA1BvB,IA0B8B2K,MAAO,CAAErF,GAAI,EAAGC,EAAI,KAC3DgK,WAAc,SAAAvP,GAAC,MAAK,CAAEoK,KAAM,EAAIpK,EA3BvB,IA2B8B2K,MAAO,CAAErF,EAAI,EAAGC,GAAI,KAC3DiK,YAAc,SAAAxP,GAAC,MAAK,CAAEoK,KAAM,EAAIpK,EA5BvB,IA4B8B2K,MAAO,CAAErF,GAAI,EAAGC,GAAI,OAIzDsK,GAAc,CAClBC,KAAW,EACXC,UAAW,EACXC,MAAW,EACXC,UAAW,EACXC,KAAW,EACXC,UAAW,EACXC,MAAW,EACXC,UAAW,GAWPC,GAAW9R,OAAOC,YACtBD,OAAOuB,QAAQ+O,IACZrK,IACC,SAAA3F,GAAA,IAAAQ,EAAAd,OAAAyB,EAAA,EAAAzB,CAAAM,EAAA,GAAEuD,EAAF/C,EAAA,GAAQkF,EAARlF,EAAA,SAAkB,CAChB+C,EACA7D,OAAO+R,KAAK/L,GAAMgM,OAAO,SAAAC,GAAO,MAAgB,iBAAZA,QAYvBC,eAWnB,SAAAA,IAAsD,IAAAjP,EAAA7B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAApCwK,EAAwC3I,EAAxC2I,KAAM/H,EAAkCZ,EAAlCY,KAAMoO,EAA4BhP,EAA5BgP,QAASvV,EAAmBuG,EAAnBvG,WAAmB,OAAAsD,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAAkR,GAAAlS,OAAAuC,EAAA,EAAAvC,CAAAgB,KAAAhB,OAAAwC,EAAA,EAAAxC,CAAAkS,GAAAzP,KAAAzB,KAC9C,CAAE4K,OAAM/H,OAAMoO,UAASvV,oFAI7BsE,KAAKmR,OAASnR,KAAKoR,YAAYC,KAAK,IAAIxD,GAAU,CAAE/H,EAAG,EAAGC,EAAG,KAC7D/F,KAAKsF,MAAStF,KAAKsR,4CAOH,IAAZ/L,EAAYnF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAH,EACb,OAAOJ,KAAKuR,KAAKhM,EAAQ,SAAAiM,GAAC,OAAI,IAAI9H,EAAM,CAAE5D,GAAI0L,EAAGzL,EAAG,sCAGpC,IAAZR,EAAYnF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAH,EACb,OAAOJ,KAAKuR,KAAKhM,kCAGwB,IAAtCA,EAAsCnF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7B,EAAGqR,EAA0BrR,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAlB,SAAA2D,GAAC,OAAI,IAAI2F,GAC1BlJ,EAAQ,EAAI+E,GAAU,EAAI0J,IAAOA,GACjCpT,EAAQmE,KAAKmR,OAChB/F,QAAQpL,KAAKsF,MAAO,IAAIoE,EAAM,CAAE5D,EAAG,GAAIC,EAAG,MAC1CsL,KACC,IAAIxD,GAAU,CAAE/H,EAAGtF,EAAGuF,EAAGvF,IACtBwJ,UAAU,IAAIN,EAAM,CAAE5D,GAAI,EAAItF,GAAK,EAAGuF,GAAI,EAAIvF,GAAK,MAEvDkR,cACG1L,EAlEM,SAAAd,GACd,IAAMyM,EAAKzM,EAAQwM,cACbE,EAAKD,EAAGzL,OAAO,GACf2L,EAAKF,EAAGzL,OAAO,GAErB,OAAO,IAAIwD,EAAM,CAAE5D,EAAG+L,EAAG/L,EAAI8L,EAAG9L,EAAGC,EAAG8L,EAAG9L,EAAI6L,EAAG7L,IA6DhC+L,CAAQjW,GAAOiK,EAE7B,MAAO,CACLjK,MAAOA,EAAMmO,UAAUyH,EAAMzL,IAC7BA,6CAKF,IAAKkL,EAAKa,MAAMC,SAAShS,KAAKiS,OAC5B,MAAM,IAAIjD,MAAJ,iBAAAzR,OAA4ByC,KAAKiS,MAAjC,OAAA1U,OAA8C2T,EAAKa,MAAMlF,KAAK,MAA9D,MAER,IAAKqE,EAAKJ,SAAS9Q,KAAKiS,OAAOD,SAAShS,KAAKkS,UAC3C,MAAM,IAAIlD,MAAJ,oBAAAzR,OAA+ByC,KAAKkS,SAApC,gBAAA3U,OAA6DyC,KAAKiS,MAAlE,OAAA1U,OAA+E2T,EAAKJ,SAAS9Q,KAAKiS,OAAOpF,KAAK,MAA9G,MAER,IAAMsF,EAAc7C,GAAOtP,KAAKiS,OAAO1C,aACjCvK,EAAcsK,GAAOtP,KAAKiS,OAAOjS,KAAKkS,UAAUlS,KAAKoS,OARjDC,EAS+BrT,OAAOS,OAAO,CACrDmL,KAAW,GACXZ,UAAW,GACXoB,OAAW,EACXD,MAAW,IACVnG,GALG4F,EATIyH,EASJzH,KAAMZ,EATFqI,EASErI,UAAWoB,EATbiH,EASajH,OAAQD,EATrBkH,EASqBlH,MAON,kBAAdP,IAAwBA,EAAY,CAAE9E,EAAG8E,EAAW7E,EAAG6E,IACzC,kBAAdZ,IAAwBA,EAAY,CAAElE,EAAGkE,EAAWjE,EAAGiE,IACzC,kBAAdmB,IAAwBA,EAAY,CAAErF,EAAGqF,EAAWpF,EAAGoF,IAElEP,EAAY5L,OAAOS,OAAO,CAAEqG,EAAG,EAAGC,EAAG,GAAK6E,GAC1CZ,EAAYhL,OAAOS,OAAO,CAAEqG,EAAG,EAAGC,EAAG,GAAKiE,GAC1CmB,EAAYnM,OAAOS,OAAO,CAAEqG,EAAG,EAAGC,EAAG,GAAKoF,GAE1C,IAAMhB,EAAS,IAAIT,EAAM,CAAE5D,EAAG,GAAKC,EAAG,KACtC,OAAO,IAAIoM,EAAY,IAAIzI,EAAMkB,IAC9BZ,UAAUA,GACVoB,OAAUA,EAAQjB,GAClBgB,MAAUA,EAAQhB,uCAIrB,IAAK+G,EAAKb,YAAY2B,SAAShS,KAAKsS,aAClC,MAAM,IAAItD,MAAJ,uBAAAzR,OAAkCyC,KAAKsS,YAAvC,OAAA/U,OAA0D2T,EAAKb,YAAYxD,KAAK,MAAhF,MAER,OAAuC,GAAhCwD,GAAYrQ,KAAKsS,2CA/DxB,MAAO,CAAEzW,MAAOmE,KAAKmR,eArBSpD,GAAS,CAAEE,SAP5B,CACfrD,KAAY,EACZ/H,KAAY,OACZoO,QAAY,MACZvV,WAAY,QAGyC8S,MAAO,UAAzC0C,GACZa,MAAc/S,OAAO+R,KAAKD,IADdI,GAEZJ,SAAcA,GAFFI,GAGZb,YAAcrR,OAAO+R,KAAKV,IC1EpB,IAAAkC,GAAA,SAACC,GAAW,IAAAvR,EAAAC,EACnBuR,EAAQ,CACZC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAKC,EAAG,GAAKC,EAAG,GACxCC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,GAAI,GAAIC,GAAI,IAE1CrU,OAAOuB,QAAQiS,GAAQxQ,QAAQ,SAAA1C,GAAA,IAAAQ,EAAAd,OAAAyB,EAAA,EAAAzB,CAAAM,EAAA,GAAEuP,EAAF/O,EAAA,GAAQY,EAARZ,EAAA,UAAmB2S,EAAM/R,GAAOkI,KAAKiG,KAEpE,IAAMZ,EAAW,CACfY,KAAM4D,EAAM,GAAG,IAGjB,OAAAvR,EAAAD,EAAA,SAAAqS,GAME,SAAAjF,IAA2B,IAAbQ,GAAazO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,IAATyO,KAAa,OAAA7P,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAAqO,GAAArP,OAAAuC,EAAA,EAAAvC,CAAAgB,KAAAhB,OAAAwC,EAAA,EAAAxC,CAAAqP,GAAA5M,KAAAzB,KACnB,CAAE6O,UAPZ,OAAA7P,OAAAuD,EAAA,EAAAvD,CAAAqP,EAAAiF,GAAAtU,OAAAwD,EAAA,EAAAxD,CAAAqP,EAAA,EAAA9O,IAAA,MAAAmB,MAAA,WAkB0B,IAApB6S,EAAoBnT,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,IAAIiO,EACd,OAAOA,EAAK3N,MAAMV,KAAKU,MAAQ6S,EAAM7S,MAAOV,KAAKmS,eAnBrD,CAAA5S,IAAA,SAAAmB,MAAA,WAsB6B,IAApB6S,EAAoBnT,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,IAAIiO,EACjB,OAAOrO,KAAKU,QAAU6S,EAAM7S,QAvBhC,CAAAnB,IAAA,OAAA1B,IAAA,WAWI,OAAOmC,KAAKwT,QAXhB,CAAAjU,IAAA,QAAA1B,IAAA,WAeI,OAAO2U,EAAOxS,KAAKwT,UAfvB,EAAAjU,IAAA,QAAAmB,MAAA,WA0B4D,IAA7CA,EAA6CN,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAArCoS,EAAOvE,EAASY,MACnC,OAAO,IADiDzO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAANiO,GACjC,CACfQ,KAAM4D,EAAM/R,EAAQ2N,EAAKoF,GAAG,SA5BlCpF,EAAA,CAA0BN,GAAS,CAAEE,cAArChN,EACSwS,EAAS,GADlBxS,EAESuR,OAASA,EAFlBvR,EAGSwR,MAASA,EAHlBvR,GCDIwS,GAASnB,GAVD,CACZoB,GAAM,GAAIC,EAAO,EAAGC,KAAO,EAC3BC,GAAO,EAAGC,EAAO,EAAGC,KAAO,EAC3BC,GAAO,EAAGC,EAAO,EAAGC,KAAO,EAC3BC,GAAO,EAAGC,EAAO,EAAGC,KAAO,EAC3BC,GAAO,EAAGzR,EAAO,EAAG0R,KAAO,EAC3BC,GAAO,EAAGC,EAAO,EAAGC,KAAM,GAC1BC,GAAM,GAAIC,EAAM,GAAIC,KAAO,IAKRC,sLACNrU,GACX,OAAOgT,GAAOhT,MAAMA,EAAOqU,UAFGrB,ICF5BA,GAASnB,GAVG,CACII,EAAM,EAChBqC,GAAO,EAAGpC,EAAM,EAAGqC,KAAM,EACzBC,GAAO,EAAGrC,EAAM,EAChBsC,GAAO,EAAGrC,EAAM,EAAGsC,KAAM,EACzBC,GAAO,EAAGtC,EAAM,EAAGuC,KAAM,EACzBC,GAAO,EAAGvC,EAAM,EAC1BwC,IAAO,EAAGC,GAAM,GAAIxC,EAAK,KAKNyC,sLACNhV,GACX,OAAOgT,GAAOhT,MAAMA,EAAOgV,UAFOhC,ICPjBiC,eAGnB,SAAAA,IAAgC,IAAlBC,GAAkBxV,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,IAAdwV,UAAkB,OAAA5W,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAA2V,GAAA3W,OAAAuC,EAAA,EAAAvC,CAAAgB,KAAAhB,OAAAwC,EAAA,EAAAxC,CAAA2W,GAAAlU,KAAAzB,KACxB,CAAE4V,oFAGe,IAAnBC,EAAmBzV,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,IAAI2U,GACf,OAAO/U,KAAK8V,WAAW7Q,IAAI,SAAA8Q,GAAQ,OAAIF,EAAKrR,IAAIuR,EAASrV,uCAGjB,IAAtCmV,EAAsCzV,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/B,IAAI2U,GAAQiB,EAAmB5V,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,IAAI2U,GAChC,OAAO/U,KAAK8V,WAAWhH,KAAK,SAAAiH,GAAQ,OAAIF,EAAKrR,IAAIuR,GAAUE,OAAOD,YAZnCjI,GAAS,CAAEE,SAJ7B,CACf2H,UAAW,OCEQ1E,eAInB,SAAAA,IAAiC,IAAnBgF,GAAmB9V,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,IAAf8V,WAAmB,OAAAlX,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAAkR,GAAAlS,OAAAuC,EAAA,EAAAvC,CAAAgB,KAAAhB,OAAAwC,EAAA,EAAAxC,CAAAkS,GAAAzP,KAAAzB,KACzB,CAAEkW,sFAGyB,IAA5BC,EAA4B/V,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAjB,EAAGsH,EAActH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAV,EAAGgW,EAAOhW,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAH,EACxBiW,EAAMrW,KAAKsW,YAAYH,GAAUzO,GAEvC,OAAO2O,IAAS,IAAMA,EAAIrN,UAAU,SAAAlJ,GAAA,IAAAmC,EAAAjD,OAAAyB,EAAA,EAAAzB,CAAAc,EAAA,GAAE0M,EAAFvK,EAAA,GAAOyK,EAAPzK,EAAA,UAAgBuK,GAAO4J,GAAKA,GAAK1J,uCAG/B,IAA1B6J,EAA0BnW,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAlB,GAAIsH,EAActH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAV,EAAGgW,EAAOhW,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAH,EACnC,OAAOmW,EAAMlW,SACR,IAAMkW,EAAMvN,UAAU,SAAA9G,GAAA,IAAGiU,EAAHjU,EAAGiU,SAAH,OAAAjU,EAAa2C,KAAgBqI,OAAOiJ,EAAUzO,EAAG0O,YAhB9CrI,GAAS,CAAEE,SAJ5B,CACfiI,WAAY,SAAAnS,GAAC,MAAI,QCCbkK,GAAW,CACfuI,OAAQ,GACRhP,KAAQ,EACR7L,GAAQoZ,GAAKtB,GAOMgD,eAKnB,SAAAA,IAAuC,IAAA3W,EAAAM,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAArBoW,EAAyB1W,EAAzB0W,OAAQhP,EAAiB1H,EAAjB0H,KAAM7L,EAAWmE,EAAXnE,GAAW,OAAAqD,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAAyW,GAAAzX,OAAAuC,EAAA,EAAAvC,CAAAgB,KAAAhB,OAAAwC,EAAA,EAAAxC,CAAAyX,GAAAhV,KAAAzB,KAC/B,CAAEwW,SAAQhP,OAAM7L,gFAOa,IAAA0F,EAAArB,KAAA0W,EAAAzU,EAA3BsU,aAA2B,IAAAG,EAAnB,GAAmBA,EAAAC,EAAA1U,EAAf2U,UAAe,IAAAD,EAAV,SAAA5S,GAAC,OAAIA,GAAK4S,EACnC,OAAO3X,OAAAG,EAAA,EAAAH,CAAIgB,KAAK6W,SACb5R,IAAI,SAAC+Q,EAAMc,GAAP,MAAkB,CACrBC,YAAaD,EACbE,WAAahB,KAEd/Q,IAAI,SAAA/C,GAAA,IAAG6U,EAAH7U,EAAG6U,YAAaC,EAAhB9U,EAAgB8U,WAAhB,MAAkC,CACrC9N,MAAOvJ,MAAM6H,KACX7H,MAAM0B,EAAKhB,QACX,SAACoH,EAAGwP,GAAJ,OAAiBL,EAAG,CAClBZ,KAAQgB,EAAWxS,IAAIuQ,GAAKrU,MAAMW,EAAK6V,MAAQD,IAC/C/J,OAAQgE,GAAKhE,OAAOqJ,EAAOQ,EAAaE,yCAdhD,OAAOjX,KAAKmX,IAAMnX,KAAKkX,MAAQ,SAVKnJ,GAAS,CAAEE,YAAUE,SAL5C,SAAA7O,GAAkB,IAAfkI,EAAelI,EAAfkI,KAAM7L,EAAS2D,EAAT3D,GACxB,GAAI6L,EAAO7L,EACT,MAAM,IAAIqT,MAAJ,SAAAzR,OAAoBiK,EAApB,yBAAAjK,OAAkD5B,EAAlD,UCFWyb,eAMnB,SAAAA,IAA6F,IAAA9X,EAAAc,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAA3EiX,EAA+E/X,EAA/E+X,MAAO9R,EAAwEjG,EAAxEiG,OAAwE+R,EAAAhY,EAAhEiY,OAAiBC,GAA+CF,OAAA,IAAAA,EAAX,GAAWA,GAAtDtR,MAA2ByR,EAA2BH,EAAlCD,MAAkC,OAAArY,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAAoX,GAAApY,OAAAuC,EAAA,EAAAvC,CAAAgB,KAAAhB,OAAAwC,EAAA,EAAAxC,CAAAoY,GAAA3V,KAAAzB,KACrF,CAAEqX,QAAO9R,SAAQiS,cAAaC,uFAIpC,MAAO,CACLJ,MAAQrX,KAAK0X,OACbnS,OAAQvF,KAAK2X,QACbJ,OAAQ,CACNvR,MAAOhG,KAAK4X,aACZP,MAAOrX,KAAK6X,sBAhBe9J,GAAS,CAAEE,SAP7B,CACfoJ,MAAa,cACb9R,OAAa,EACbiS,YAAa,EACbC,YAAa,kBCHMK,cACnB,SAAAA,IAAiC,IAC3BjN,EADM1I,EAAqB/B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,IAAIgX,GAASpY,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAA8X,GAQ/B,GAAI3V,aAAiBiV,GACnBvM,EAAK,kBAAM1I,OACR,IAAqB,oBAAVA,EAGd,MAAM,IAAI6M,MAAJ,kDAFNnE,EAAK1I,EAIPnC,KAAK+X,QAAU/Y,OAAOC,YAbR,SAAA4L,GAAE,OAAI7L,OAAO+R,KAAK2E,GAASlD,QACtCvN,IAAI,SAAA4J,GAAI,MAAI,CACXA,EACAhE,EAAG,IAAI6K,GAAS,CAAE7G,WAAY,IAAIuI,MAUJrX,CAAM8K,oDAGtCkL,GACF,OAAOA,aAAoBL,GACvB1V,KAAK+X,QAAQhC,EAASlH,MACtB,IAAIuI,gCCtBNnJ,GAAW,CACf+J,WAAY,IAAIvB,GAChBjR,SAAY,GACZyS,SAAY,CAAC,KAGMC,eAMnB,SAAAA,IAAqD,IAAA5Y,EAAAc,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAnC4X,EAAuC1Y,EAAvC0Y,WAAYxS,EAA2BlG,EAA3BkG,SAAUyS,EAAiB3Y,EAAjB2Y,SAAiB,OAAAjZ,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAAkY,GAAAlZ,OAAAuC,EAAA,EAAAvC,CAAAgB,KAAAhB,OAAAwC,EAAA,EAAAxC,CAAAkZ,GAAAzW,KAAAzB,KAC7C,CAAEgY,aAAYxS,WAAUyS,mKAI9B,OAAAE,EAAAC,cAAOpY,KAAKqY,QAAQpT,IAAI,SAAAnF,GAAA,MAAiB,CAAE0J,OAAnB1J,EAAG0J,OAA+BvE,IAAI,SAAAhD,GAAA,MAAkB,CAAEoH,QAApBpH,EAAGoH,cAAjE,2DAGDiP,OAAOC,0BACN,OAAOvY,KAAKuY,4CAGL,IAAAlX,EAAArB,KACPA,KAAKqY,QAAUrY,KAAKwY,UACjBvT,IACC,SAAAuE,GAAM,MAAK,CACTA,OAAQA,EAAOvE,IACb,SAAAzI,GAAS,IACCic,EAA0Cjc,EAA1Cic,QAAStN,EAAiC3O,EAAjC2O,MAAwBoL,EAAS/Z,EAA1Bkc,gBAalBrP,EAAUhI,EAAKsX,YAAYtP,QAAQ,CAAEkN,QAAOK,GAXvC,SAAA1U,GAAsB,IAAnB8T,EAAmB9T,EAAnB8T,KAAM9I,EAAahL,EAAbgL,OAGlB,OAFA8I,EAAO7K,EAAMtN,IAAIrB,EAAMqZ,KAAMG,GAEtB,CACL4C,OAAW1L,IAAW8I,EACtB7T,MAAUsW,EAAQ5a,IAAIqP,EAAS8I,EAAO,MAAM6C,SAC5ChU,KAAUrI,EAAMsc,QAChBtT,SAAUnE,EAAK0X,cAMnB,OAAO/Z,OAAA8B,EAAA,EAAA9B,CAAA,GAAKxC,EAAZ,CAAmB6M,iBAM7B1J,MACG6H,KAAKxH,KAAKgZ,gBACVhX,QAAQ,SAAA4J,GAA4D,IAAzDqN,EAAyDrN,EAAzDqN,WAAYC,EAA6CtN,EAA7CsN,WAAYnC,EAAiCnL,EAAjCmL,YAAaE,EAAoBrL,EAApBqL,SAAU9a,EAAUyP,EAAVzP,IAEnDuQ,EAAMrL,EAAKgX,QAAQhY,OAAS,EAE5BxC,EAAM,SAAA6J,GAAC,OAAIrG,EACdgX,QAFS,SAAA3Q,GAAC,OAAIE,KAAK8E,IAAI9E,KAAK4E,IAAI9E,EAAGgF,GAF1B,GAIDyM,CAAIzR,IACZ8B,OAAO0P,GACP7P,QAAQ0N,GACR7N,MAAM+N,IAEH1R,EAASpJ,EAAIgG,MAAMoD,OAV0CgM,EAWP1T,EAAIob,EAAa,GAA9DG,EAXoD7H,EAW3DqH,MAAmCS,EAXwB9H,EAWzCpP,MAASoD,OAXgC+T,EAYPzb,EAAIob,EAAa,GAA9DM,EAZoDD,EAY3DV,MAAmCY,EAZwBF,EAYzCnX,MAASoD,OAE7BzJ,EAAQsd,EAAY7T,EAASqC,KAAK4E,IAAIjH,EAAQ8T,GAC9Ctd,EAAQwd,EAAYhU,EAASqC,KAAK4E,IAAIjH,EAAQiU,GAEpDrd,EAAI0I,KAAO,CACThJ,MAAOM,EAAI0I,KAAKhJ,MAChByJ,MAAOnJ,EAAI0I,KAAKS,MAChBxJ,MAAOK,EAAI0I,KAAK/I,MAAMA,GACtBC,MAAOI,EAAI0I,KAAK9I,MAAMA,0HAM5B,OAAA0d,EAAArB,cAAOpY,KAAKqY,QAAQpT,IAClB,SAAA8G,EAAakN,GAAb,OAAAlN,EAAGvC,OACMvE,IACL,SAAAyU,EAAcR,GAAd,OAAAQ,EAAGrQ,QACOpE,IACN,SAAA0U,EAAY5C,GAAZ,OAAA4C,EAAGzQ,MACKjE,IACJ,SAAC9I,EAAK8a,GAAN,MAAoB,CAClBgC,aACAC,aACAnC,cACAE,WACA9a,SAEJ0D,SACFA,SACJA,SACJA,OAjBF,2DA1EgCkO,GAAS,CAAEE,YAAUO,MAAO,YCAhExP,OAAOuB,QACH,CAAE6C,WAAS2R,QAAMW,YAAUC,SAAOc,cAAYmD,kBAAgBxC,SAAOU,WAASI,YAChFlW,QAAQ,SAAA1C,GAAA,IAAAQ,EAAAd,OAAAyB,EAAA,EAAAzB,CAAAM,EAAA,GAAEuP,EAAF/O,EAAA,GAAQ+Z,EAAR/Z,EAAA,UAAmBlD,OAAOiS,GAAQgL,IAE5C,IAAMC,GAAW,CACbC,KAAM,IAAIjC,GAAQ,IAAIV,GAAM,CAAEC,MAAO,UACrC2C,IAAM,IAAIlC,GAAQ,IAAIV,GAAM,CAAEC,MAAO,SACrC4C,OAAQ,IAAInC,GAAQ,IAAIV,GAAM,CAAEC,MAAO,QAAS9R,OAAQ,MACxD2U,OAAQ,IAAIpC,GAAQ,IAAIV,GAAM,CAAEC,MAAO,QAAS9R,OAAQ,KACxD4U,MAAO,IAAIrC,GAAQ,IAAIV,GAAM,CAAEC,MAAO,OAAQ9R,OAAQ,MACtD6U,MAAO,IAAItC,GAAQ,IAAIV,GAAM,CAAEC,MAAO,OAAQ9R,OAAQ,KACtD8U,QAAS,IAAIvC,GAAQ,IAAIV,GAAM,CAAEC,MAAO,QAAS9R,OAAQ,KACzD+U,KAAM,IAAIxC,GAAQ,SAAA/B,GAEd,IAAMsB,EAAQ,SAACrU,EAAG0E,GAAJ,aAAAnK,OAAsB,IAAJyF,EAAU,EAA5B,MAAAzF,OAAoC,GAAKmK,EAAzC,OAAAnK,OAAkD,GAAKmK,EAAvD,OACR6S,IAFNxE,EAAWA,EAASlH,MAEIkH,EAAS1V,OAAS,GACpC8B,EAAQ,GAcd,OAZS4T,EAASyE,WAAW,MAAOrY,EAAMkV,MAAQA,EAAMkD,GAAO,IACtDxE,EAASyE,WAAW,KAAOrY,EAAMkV,MAAQA,EAAMkD,GAAO,IACtDxE,EAASyE,WAAW,KAAOrY,EAAMkV,MAAQA,EAAMkD,EAAO,IAC3BpY,EAAMkV,MAAQA,EAAMkD,EAAO,GAE3D,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,MAAO,KAAM,KAAKvI,SAAS+D,GAKzC,KAAbA,IAAgB5T,EAAMkV,MAAQ,SAE5B,IAAID,GAAMjV,MAInBsY,GAASzb,OAAOC,YAClBD,OAAOuB,QAAQ,CACXqY,MAAW,GACX8B,OAAW,CAAC,IAAK,KAAM,IAAK,IAAK,MACjCC,QAAW,CAAC,IAAK,IAAK,KAAM,IAAK,IAAK,KAAM,MAC5CC,OAAW,CAAC,IAAK,IAAK,IAAK,IAAK,KAChCC,OAAW,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC1CC,UAAW,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,IAAK,KAAM,IAAK,KAAM,IAAK,KAAM,OACzE7V,IAAI,SAAAhD,GAAA,IAAAC,EAAAlD,OAAAyB,EAAA,EAAAzB,CAAAiD,EAAA,GAAE4M,EAAF3M,EAAA,GAAQ0T,EAAR1T,EAAA,SAAuB,CAAC2M,EAAM,IAAI8G,GAAM,CAAEC,UAAWA,EAAU3Q,IAAI,SAAA4J,GAAI,OAAI,IAAI6G,GAAS,CAAE7G,iBAG/FkM,GAAW/b,OAAOC,YACpBD,OAAOuB,QAAQ,CACXya,WAAY,CAAEpQ,KAAM,EAAE,EAAG/H,KAAM,WAAYoO,QAAS,cAAevV,WAAY,aAC/Euf,SAAY,CAAErQ,KAAM,EAAK/H,KAAM,OAAYoO,QAAS,MAAevV,WAAY,aAC/Ewf,WAAY,CAAEtQ,KAAM,EAAE,EAAG/H,KAAM,WAAYoO,QAAS,UAAevV,WAAY,aAC/Eyf,WAAY,CAAEvQ,KAAM,EAAE,EAAG/H,KAAM,WAAYoO,QAAS,WAAevV,WAAY,aAC/E2T,KAAY,CAAEzE,KAAM,EAAE,EAAG/H,KAAM,OAAYoO,QAAS,UAAevV,WAAY,eAChFuJ,IAAI,SAAA2G,GAAA,IAAAG,EAAA/M,OAAAyB,EAAA,EAAAzB,CAAA4M,EAAA,GAAEiD,EAAF9C,EAAA,GAAQ/G,EAAR+G,EAAA,SAAkB,CAAC8C,EAAM,IAAIzL,GAAQ4B,OAG1CoW,GAAcpc,OAAOC,YACvBD,OAAOuB,QAAQ,CACX8a,eAAgB,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,OAC3CpW,IAAI,SAAAyU,GAAA,IAAAC,EAAA3a,OAAAyB,EAAA,EAAAzB,CAAA0a,EAAA,GAAE7K,EAAF8K,EAAA,GAAQnD,EAARmD,EAAA,SAAoB,CAAC9K,EAAM,IAAI4H,GAAW,CAAED,OAAQA,EAAO8E,UAAUrW,IAAI,SAAA4J,GAAI,OAAI,IAAIkG,GAAK,CAAElG,iBAGjG6J,GAAkB,CACpB,CACIxC,WAAY,SAAAC,GAAQ,MAAI,CACpB,CAAC,EAAEoF,IAAUpF,GAAW,CAACA,EAAW,EAAGoF,MACvC,CAAC,EAAEA,IAAUpF,GAAW,CAACA,EAAW,EAAGoF,MACvC,CAAC,EAAEA,IAAUpF,GAAW,CAACA,EAAW,EAAGoF,MACvC,CAAC,EAAEA,IAAUpF,GAAW,CAACA,EAAW,EAAGoF,MACvC,CAAC,EAAEA,IAAUpF,GAAW,CAACA,EAAW,EAAGoF,MACvC,CAAC,EAAEA,IAAUpF,GAAW,CAACA,EAAW,EAAGoF,SAG/C,CACIrF,WAAY,SAAAC,GAAQ,MAAI,CACpB,CAAC,EAAEoF,IAAUA,MACb,CAAC,EAAEA,IAAUA,MACb,CAAC,EAAEA,IAAUA,MACb,CAAC,EAAEA,IAAUA,MACb,CAAC,EAAEA,IAAUA,MACb,CAAC,EAAEA,IAAUA,UAGvBtW,IAAI,SAAAJ,GAAI,OAAI,IAAI+U,GAAe/U,KAE3B2W,GAAK,CAAErF,SAAU,EAAGtR,KAAM6T,GAAgB,IAC1C+C,GAAS,IAAIvD,GAAO,CACtBF,WAAYoD,GAAYC,eACxB7V,SAAU,KACVyS,SAAU,CACN,CACI,CAAEpC,KAAM,IAAKiD,QAASiC,GAASG,WAAYzC,QAASqB,GAASG,OAAQ9O,MAAOsP,GAAOK,UAAWpC,gBAAiB,CAAC8C,KAChH,CAAE3F,KAAM,IAAKiD,QAASiC,GAASC,WAAYvC,QAASqB,GAASM,MAAOjP,MAAOsP,GAAOK,UAAWpC,gBAAiB,CAAC8C,MAEnH,CACI,CAAE3F,KAAM,IAAKiD,QAASiC,GAASG,WAAYzC,QAASqB,GAASM,MAAOjP,MAAOsP,GAAOK,UAAWpC,gBAAiB,CAAC8C,KAC/G,CAAE3F,KAAM,IAAKiD,QAASiC,GAASC,WAAYvC,QAASqB,GAASI,OAAQ/O,MAAOsP,GAAOK,UAAWpC,gBAAiB,CAAC8C,MAEpH,CACI,CAAE3F,KAAM,IAAKiD,QAASiC,GAASG,WAAYzC,QAASqB,GAASG,OAAQ9O,MAAOsP,GAAOK,UAAWpC,gBAAiB,CAAC8C,KAChH,CAAE3F,KAAM,IAAKiD,QAASiC,GAASC,WAAYvC,QAASqB,GAASM,MAAOjP,MAAOsP,GAAOK,UAAWpC,gBAAiB,CAAC8C,MAEnH,CACI,CAAE3F,KAAM,IAAKiD,QAASiC,GAASG,WAAYzC,QAASqB,GAASM,MAAOjP,MAAOsP,GAAO7B,MAAOF,gBAAiB,CAAC8C,KAC3G,CAAE3F,KAAM,IAAKiD,QAASiC,GAASC,WAAYvC,QAASqB,GAASI,OAAQ/O,MAAOsP,GAAOK,UAAWpC,gBAAiB,CAAC8C,MAEpH,CACI,CAAE3F,KAAM,IAAKiD,QAASiC,GAASG,WAAYzC,QAASqB,GAASI,OAAQ/O,MAAOsP,GAAOK,UAAWpC,gBAAiB,CAAC8C,KAChH,CAAE3F,KAAM,IAAKiD,QAASiC,GAASC,WAAYvC,QAASqB,GAASM,MAAOjP,MAAOsP,GAAOK,UAAWpC,gBAAiB,CAAC8C,MAEnH,CACI,CAAE3F,KAAM,IAAKiD,QAASiC,GAASG,WAAYzC,QAASqB,GAASK,MAAOhP,MAAOsP,GAAO7B,MAAOF,gBAAiB,CAAC8C,KAC3G,CAAE3F,KAAM,IAAKiD,QAASiC,GAASC,WAAYvC,QAASqB,GAASI,OAAQ/O,MAAOsP,GAAOK,UAAWpC,gBAAiB,CAAC8C,MAEpH,CACI,CAAE3F,KAAM,IAAKiD,QAASiC,GAASG,WAAYzC,QAASqB,GAASG,OAAQ9O,MAAOsP,GAAOK,UAAWpC,gBAAiB,CAAC8C,KAChH,CAAE3F,KAAM,IAAKiD,QAASiC,GAASC,WAAYvC,QAASqB,GAASM,MAAOjP,MAAOsP,GAAOK,UAAWpC,gBAAiB,CAAC8C,MAEnH,CACI,CAAE3F,KAAM,IAAKiD,QAASiC,GAASG,WAAYzC,QAASqB,GAASK,MAAOhP,MAAOsP,GAAO7B,MAAOF,gBAAiB,CAAC8C,KAC3G,CAAE3F,KAAM,IAAKiD,QAASiC,GAASC,WAAYvC,QAASqB,GAASI,OAAQ/O,MAAOsP,GAAOK,UAAWpC,gBAAiB,CAAC8C,MAEpH,CACI,CAAE3F,KAAM,IAAKiD,QAASiC,GAASG,WAAYzC,QAASqB,GAASG,OAAQ9O,MAAOsP,GAAOK,UAAWpC,gBAAiB,CAAC8C,KAChH,CAAE3F,KAAM,IAAKiD,QAASiC,GAASC,WAAYvC,QAASqB,GAASM,MAAOjP,MAAOsP,GAAOK,UAAWpC,gBAAiB,CAAC8C,OAErHvW,IAAI,SAAAuE,GAAM,OAAIA,EAAOvE,IAAI,SAAAzI,GAAK,OAAAwC,OAAA8B,EAAA,EAAA9B,CAAA,GAAUxC,EAAV,CAAiBqZ,KAAM,IAAId,GAAK,CAAElG,KAAMrS,EAAMqZ,eAGlFjZ,OAAO6e,OAASA,GAChBzc,OAAOuB,QACH,CAAEuZ,YAAUW,UAAQW,eAAaL,YAAUrC,mBAAiB+C,YAC9DzZ,QAAQ,SAAA0Z,GAAA,IAAAC,EAAA3c,OAAAyB,EAAA,EAAAzB,CAAA0c,EAAA,GAAE7M,EAAF8M,EAAA,GAAQ/M,EAAR+M,EAAA,UAAoBrd,QAAQC,IAAIsQ,EAAMD,KAEhD,IAmCegN,eAhCX,SAAAA,EAAYxa,GAAO,IAAAC,EAAA,OAAArC,OAAAsC,EAAA,EAAAtC,CAAAgB,KAAA4b,IACfva,EAAArC,OAAAuC,EAAA,EAAAvC,CAAAgB,KAAAhB,OAAAwC,EAAA,EAAAxC,CAAA4c,GAAAna,KAAAzB,KAAMoB,KAEDmX,SAAWkD,GAAOlD,WACvBlX,EAAKxC,MAAWwC,EAAKwa,WAJNxa,mFAOMrB,KAAK8b,sDACL9b,KAAK8b,wDACLC,aAAa/b,KAAKgc,wCAElC,IAAA5X,EAAApE,KACCnB,EAAQmB,KAAK6b,WAEfhd,IACAmB,KAAKgc,MAAQzX,WAAW,kBAAMH,EAAK6X,SAASpd,IAlBvC,0CAsBT,IAAMqd,EAAOlc,KAAKuY,SAAS2D,OAE3B,OAAOA,EAAKC,KAAO,KAAOD,EAAKxb,uCAK/B,OADApC,QAAQC,IAAI,QAASyB,KAAKnB,OAEtBkE,EAAAC,EAAAC,cAACmZ,EAAD,CAAQ5S,OAASxJ,KAAKnB,MAAM2K,gBA5BtB7G,aCzIlB4B,WAAW,WACP8X,IAASC,OACLvZ,EAAAC,EAAAC,cAACsZ,GAAD,MACAC,SAASC,eAAe,SAC5BC,KACD","file":"static/js/main.da3e0030.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"_easing\":\"cubic-bezier(0.55, 0.085, 0.68, 0.53)\",\"transition\":\"BoxMask_transition__bH8Is\",\"to\":\"BoxMask_to__1LL9g\",\"ellipse\":\"BoxMask_ellipse__1cWxe\",\"shape\":\"BoxMask_shape__N2Z5S\",\"enter\":\"BoxMask_enter__1Cc8K BoxMask_transition__bH8Is\",\"leave\":\"BoxMask_leave__1j_Ux BoxMask_transition__bH8Is\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"_box-width\":\"80px\",\"_box-height\":\"60px\",\"_box-gap\":\"3px\",\"box\":\"Box_box__2iRzQ\",\"svg\":\"Box_svg__9GN1B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"unit\":\"BoxUnit_unit__G7W3f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"_box-height\":\"60px\",\"_string-gap\":\"3px\",\"string\":\"String_string__2Nu9o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer\":\"Layer_layer__1mjZf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"guitar\":\"Guitar_guitar__2JwU0\"};","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","Object.fromEntries = (iterable) =>\n  [...iterable]\n  .reduce((obj, { 0: key, 1: val }) => Object.assign(obj, { [key]: val }), {})\n\nArray.prototype.flat = function() { return [].concat(...this) }\n","import React, { Component } from 'react'\nimport { findDOMNode } from 'react-dom'\n\nconst capitalize = s => s.charAt(0).toUpperCase() + s.slice(1)\nconst flatObject = (o, prefix = '') =>\n    Object.entries(o)\n        .reduce((o, [key, value]) => {\n            prefix && (key = prefix + capitalize(key))\n\n            if (value === null || value === undefined)\n                return { ...o, [key]: null }\n\n            return typeof value === 'object'\n                ? { ...o, ...flatObject(value, key) }\n                : { ...o, [key]: value }\n        }, {})\n\nexport default element =>\n    class extends Component {\n        static displayName = `RCV(${ element.type })`\n\n        constructor(props) {\n            super(props)\n\n            const rcv = this.props.rcv\n            if (Array.isArray(rcv) && typeof rcv[1] === 'function') {\n                rcv[1](this.css)\n            }\n        }\n\n        componentDidMount() {\n            this.css()\n        }\n\n        componentDidUpdate() {\n            this.css()\n        }\n\n        getStyles(styles) {\n            if (styles) return styles\n\n            styles = this.props.rcv\n\n            if (Array.isArray(styles))\n                styles = styles[0]\n\n            return styles || {}\n        }\n\n        css = (styles) => {\n            const $ = findDOMNode(this)\n            if (!$) return\n\n            this.css.$ = $\n            styles     = flatObject(this.getStyles(styles))\n\n            Object\n                .entries(styles)\n                .forEach(([key, value]) => $.style.setProperty(`--${ key }`, value))\n        }\n\n        render() {\n            const props = { ...this.props }\n            delete props.rcv\n\n            return React.cloneElement(element, props)\n        }\n    }\n","import React, { Component } from 'react'\nimport rcv from '../../../lib/rcv/rcv'\nimport styles from './BoxMask.module.css'\n\nconst G       = rcv(<g />)\nconst Rect    = rcv(<rect />)\nconst Polygon = rcv(<polygon />)\n\nexport default class BoxMask extends Component {\n    static ENTER = 'enter'\n    static LEAVE = 'leave'\n    rcv    = {}\n    states = {\n        // paused : false,\n        entering: false,\n        entered : false,\n        leaving : false,\n        left    : false\n    }\n\n    constructor(props) {\n        super(props)\n\n        this.onEntered = this.props.onEntered || (_ => _)\n        this.onLeft    = this.props.onLeft    || (_ => _)\n    }\n\n    events(action) {\n        const method = action + 'EventListener'\n\n        this.rcv.enter.$[method]('transitionend', this.entered)\n        this.rcv.leave.$[method]('transitionend', this.left   )\n    }\n\n    componentDidMount() {\n        this.events('add')\n        this.animate(true)\n    }\n\n    componentDidUpdate() {\n        this.animate()\n    }\n\n    componentWillUnmount() {\n        this.events('remove')\n    }\n\n    animate(delay = false) {\n        const animate = () => {\n            if (this.props.animate === BoxMask.ENTER)\n                this.enter()\n\n            if (this.props.animate === BoxMask.LEAVE)\n                this.leave()\n        };\n\n        delay ? setTimeout(animate) : animate()\n    }\n\n    enter() {\n        if (this.states.entering) return\n\n        this.states.entering = true\n        this.rcv.leave.$.classList.remove(styles.to)\n        this.rcv.enter.$.classList.add(styles.to)\n    }\n\n    leave() {\n        if (this.states.leaving) return\n\n        this.states.leaving = true\n        this.rcv.leave.$.classList.add(styles.to)\n    }\n\n    entered = e => {\n        if (!this.states.entering) return\n\n        this.states.entering = false\n        this.states.entered  = true\n\n        this.onEntered(this, e)\n    }\n\n    left = e => {\n        if (!this.states.leaving) return\n\n        this.states.leaving = false\n        this.states.left    = true\n\n        this.rcv.enter.$.classList.remove(styles.to)\n        this.onLeft(this, e)\n    }\n\n    render() {\n        const { g, mask: { clipPath, rect }, data } = this.renderData()\n\n        return (\n            <G { ...g }>\n                <clipPath { ...clipPath }>\n                    <Rect { ...rect } />\n                </clipPath>\n                { data.map(({ clipPath, polygon }) => (\n                    <clipPath { ...clipPath }>\n                        <Polygon { ...polygon } />\n                    </clipPath>\n                ))}\n            </G>\n        )\n    }\n\n    renderData() {\n        const { angle, radius, duration } = this.props\n\n        const id   = type => type ? `${ this.props.id }-${ type }` : null\n        const url  = id   => id   ? `url(\"#${ id }\")`              : null\n        const clip = Object.fromEntries(\n            [['shape', 'enter'], ['enter', 'leave']].map(([o, clip]) => [o, url(id(clip))])\n        )\n\n        const g = {\n            className: styles.mask,\n            rcv: {\n                angle: `${ -angle }deg`,\n                duration\n            }\n        }\n\n        const mask = {\n            clipPath: {\n                id           : id('mask'),\n                clipPath     : url(id('shape')),\n                clipPathUnits: 'objectBoundingBox'\n            },\n            rect: {\n                className: styles.ellipse,\n                x     : '0',\n                y     : '0',\n                width : '1',\n                height: '1',\n                rcv   : { radius }\n            }\n        }\n\n        const data = ['shape', 'enter', 'leave']\n            .map(key => ({\n                clipPath: {\n                    key,\n                    id           : id(key),\n                    clipPath     : clip[key],\n                    clipPathUnits: 'objectBoundingBox'\n                },\n                polygon: {\n                    className: styles[key],\n                    points   : this.props[key].shape,\n                    rcv      : [\n                        { width: `${ this.props[key].width }px` },\n                        rcv => this.rcv[key] = rcv\n                    ]\n                },\n            }))\n\n        return { g, mask, data }\n    }\n}\n","export default l => () => Math.random().toString(36).substr(2, l)\n","import React, { Component } from 'react'\nimport rcv from '../../../lib/rcv/rcv.js'\nimport styles from './BoxUnit.module.css'\n\nconst Unit = rcv(<rect />)\n\nclass BoxUnit extends Component {\n    render() {\n        const { style, clip } = this.props\n        const rcv = { ...style, clip }\n\n        return (\n            <Unit className={ styles.unit } rcv={ rcv }></Unit>\n        )\n    }\n}\n\nexport default BoxUnit\n","import React, { Component } from 'react'\n\nexport default class ActivationList extends Component {\n    #components = []\n    prev = false\n\n    get components() {\n        const prevLength = this.#components.length\n        const {\n            Component,\n            active        = this.prev,\n            length        = prevLength,\n            initialProps  = _ => _,\n            alwaysProps   = _ => _,\n            activeProps   = _ => _,\n            inactiveProps = _ => _\n        } = this.props\n\n\n        this.#components = this.#components\n            // Remove extra\n            .slice(0, length)\n            // Add new\n            .concat(\n                prevLength >= length\n                    ? []\n                    : Array.from(\n                        Array(length - prevLength),\n                        (v, i) =>\n                            React.cloneElement(\n                                (<Component />),\n                                initialProps(i)\n                            )\n                    )\n            )\n            // Apply new active\n            .map((component, i) =>\n                React.cloneElement(\n                    component,\n                    {\n                        ...alwaysProps(i, this.prev),\n                        ...(i === active\n                          ? activeProps\n                          : inactiveProps\n                        ).call(null, i, this.prev),\n                        i,\n                        key: i,\n                    }\n                )\n            )\n\n        return this.#components\n    }\n\n    render() {\n        const { active = this.prev } = this.props\n        const components = this.components\n        this.prev        = active\n\n        return components\n    }\n}\n","import React, { Component } from 'react'\nimport randId from '../../../utils/randId'\nimport BoxMask from '../boxmask/BoxMask'\nimport BoxUnit from '../boxunit/BoxUnit'\nimport ActivationList from '../ActivationList'\nimport styles from './Box.module.css'\n\nconst id = randId(10)\nlet    i = 0\n\nclass Box extends Component {\n    static MASKS = 2\n    static IDLE  = 'idle'\n    static BUSY  = 'busy'\n    #list = []\n\n    constructor(props) {\n        super(props)\n\n        this.id = `${ id() }-${ ++i }`\n\n        // Minimize DOM writes\n        for(let i = 0; i < Box.MASKS; ++i)\n            this.#list.push(Box.IDLE)\n    }\n\n    get length() {\n        return this.#list.length\n    }\n\n    get idle() {\n        let idle = this.#list.findIndex(state => state === Box.IDLE)\n\n        if(idle === -1) {\n            this.#list.push(Box.IDLE)\n            idle = this.length - 1\n        }\n        console.log('%ccandidate', 'font-weight: bold', idle, JSON.stringify(this.#list))\n\n        return idle\n    }\n\n    remove = mask => {\n        this.#list[mask.props.i] = Box.IDLE\n        console.log('REMOVED', mask.props.i, JSON.stringify(this.#list))\n    }\n\n    render() {\n        const idle = this.idle\n        this.#list[idle] = Box.BUSY\n\n        return (\n            <box className={ styles.box }>\n              <svg className={ styles.svg }>\n                    <defs>\n                        <ActivationList\n                            Component    ={ BoxMask     }\n                            length       ={ this.length }\n                            active       ={ idle        }\n                            initialProps ={ this.maskInitialProps  }\n                            activeProps  ={ this.maskActiveProps   }\n                            inactiveProps={ this.maskInactiveProps }\n                        />\n                    </defs>\n                    <ActivationList\n                        Component   ={ BoxUnit     }\n                        length      ={ this.length }\n                        active      ={ idle        }\n                        initialProps={ this.unitInitialProps }\n                        activeProps ={ this.unitActiveProps  }\n                    />\n                </svg>\n            </box>\n        )\n    }\n\n    maskInitialProps = i => ({\n        id      : `${ this.id }-${ i }`,\n        duration: this.props.duration,\n        angle   : this.props.mask.angle,\n        shape   : this.props.mask.shape,\n        enter   : { shape: '', width: 0 },\n        leave   : { shape: '', width: 0 },\n        onLeft  : this.remove\n    })\n\n    maskActiveProps = i => ({\n        animate: BoxMask.ENTER,\n        enter  : this.props.mask.enter,\n        leave  : this.props.mask.leave,\n        radius : this.props.style.radius\n    })\n\n    maskInactiveProps = (i, prev) => ({\n        animate: prev === i ? BoxMask.LEAVE : null\n    })\n\n    unitInitialProps = i => ({\n        clip: `url(\"#${ this.id }-${ i }-mask\")`\n    })\n\n    unitActiveProps = i => ({\n        style: this.props.style\n    })\n}\n\nexport default Box\n","import React, { Component } from 'react'\nimport Box from '../box/Box'\nimport styles from './String.module.css'\n\nclass String extends Component {\n    render() {\n        return (\n            <string className={ styles.string }>\n                { this.props.boxes.map(({ style, mask, duration }, i) => (\n                    <Box key={ i } style={ style } mask={ mask } duration={ duration } />\n                )) }\n            </string>\n        )\n    }\n}\n\nexport default String\n","import React, { Component } from 'react'\nimport String from '../string/String'\nimport styles from './Layer.module.css'\n\nclass Layer extends Component {\n    render() {\n        return (\n            <layer className={ styles.layer }>\n                { this.props.strings.map(({ boxes }, i) => (\n                    <String key={ i } boxes={ boxes } />\n                )) }\n            </layer>\n        )\n    }\n}\n\nexport default Layer\n","import React, { Component } from 'react'\nimport Layer from '../layer/Layer'\nimport styles from './Guitar.module.css'\n\nclass Guitar extends Component {\n    render() {\n        return (\n            <guitar className={ styles.guitar }>\n                { this.props.layers.map((layer, i) => (\n                    <Layer key={ i } { ...layer } />\n                )) }\n            </guitar>\n        )\n    }\n}\n\nexport default Guitar\n","export default class Point {\n  constructor({ x = 0, y = 0 } = {}) {\n    this.x = x || 0\n    this.y = y || 0\n  }\n\n  opposite() {\n    return this.clone(coord => -coord)\n  }\n\n  translate(vector = new Point()) {\n    return new Point({\n      x: this.x + vector.x,\n      y: this.y + vector.y\n    })\n  }\n\n  scale(value = new Point(), origin = new Point()) {\n    if (typeof value === 'number')\n      value = new Point({ x: value, y: value })\n\n    return origin\n      .translate(\n        this\n          .translate(origin.opposite())\n          .clone((coord, axis) => coord * value[axis])\n      )\n  }\n\n  rotate(angle = 0, center = new Point()) { // angle: clockwise degrees\n    const rad = - 2 * Math.PI * angle / 360\n    const cos = Math.cos(rad)\n    const sin = Math.sin(rad)\n\n    const d = this.translate(center.opposite())\n    const x = d.x * cos - d.y * sin\n    const y = d.x * sin + d.y * cos\n\n\n    return center\n      .translate(new Point({ x, y }))\n      .round(5)\n  }\n\n  round(precision = 1) {\n    return this.clone(\n      coord =>\n        (Math.round(coord * Math.pow(10, precision)) / Math.pow(10, precision)) || 0\n    )\n  }\n\n  quarterify(size = new Point(), fn = _ => _) {\n    const point  = this.clone()\n    const center = size.clone(coord => coord / 2)\n\n    const angle = (() => {\n      const [px, py, cx, cy] = [point.x, point.y, center.x, center.y]\n\n      if (px > cx && py > cy) return 0\n      if (px < cx && py > cy) return -90\n      if (px < cx && py < cy) return -180\n      return -270\n    })()\n\n    const transform = point => point.rotate(-angle, center).translate(center.opposite()).scale(2)\n    const inverse   = point => point.scale(1/2).translate(center).rotate(angle, center)\n\n    return inverse(fn(transform(point)))\n  }\n\n  clone(fn = _ => _) {\n    return new Point({ x: fn(this.x, 'x'), y: fn(this.y, 'y') })\n  }\n\n  toString(unit = '', sep = ',') {\n    return `${ this.x }${ unit }${ sep }${ this.y }${ unit }`\n  }\n\n  static intersection(\n    { x: x1, y: y1 } = new Point(),\n    { x: x2, y: y2 } = new Point(),\n    { x: x3, y: y3 } = new Point(),\n    { x: x4, y: y4 } = new Point()\n  ) {\n    const a    = x1 * y2 - y1 * x2\n    const b    = x3 * y4 - y3 * x4\n    const xNum = a * (x3 - x4) - b * (x1 - x2)\n    const yNum = a * (y3 - y4) - b * (y1 - y2)\n    const den  = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4)\n\n    const x = xNum / den\n    const y = yNum / den\n\n    return new Point({ x, y })\n  }\n}\n","import Point from './Point'\n\nexport default class Polygon {\n  points = []\n\n  constructor(points = []) {\n    this.points = points\n  }\n\n  translate(vector = new Point()) {\n    return this.clone(point => point.translate(vector))\n  }\n\n  rotate(angle = 0, center = new Point()) {\n    return this.clone(point => point.rotate(angle, center))\n  }\n\n  scale(value = new Point(), origin = new Point()) {\n    return this.clone(point => point.scale(value, origin))\n  }\n\n  boundingBox() {\n    const first = this.points[0] || new Point()\n\n    const { minX, maxX, minY, maxY } = this.points\n      .reduce(\n        (carry, point) => ({\n          minX: Math.min(carry.minX, point.x),\n          maxX: Math.max(carry.maxX, point.x),\n          minY: Math.min(carry.minY, point.y),\n          maxY: Math.max(carry.maxY, point.y)\n        }),\n        { minX: first.x, maxX: first.x, minY: first.y, maxY: first.y }\n      )\n\n    return new Polygon([\n      new Point({ x: minX, y: minY }),\n      new Point({ x: maxX, y: minY }),\n      new Point({ x: maxX, y: maxY }),\n      new Point({ x: minX, y: maxY })\n    ])\n  }\n\n  clone(fn = _ => _) {\n    return new Polygon(\n      this.points.map(\n        (point, i) => fn(point.clone(), i)\n      )\n    )\n  }\n\n  toString() {\n    return this.points.map(point => point.toString()).join(' ')\n  }\n\n  // Sutherland–Hodgman algorithm\n  // @see https://www.geeksforgeeks.org/polygon-clipping-sutherland-hodgman-algorithm-please-change-bmp-images-jpeg-png/\n  crop(area = new Polygon()) {\n    const points = area.points\n    const length = points.length\n\n    return points.reduce(\n      (polygon, I, i) => polygon.cropLine(I, points[(i + 1) % length]),\n      this\n    )\n  }\n\n  cropLine({ x: x1, y: y1 } = new Point(), { x: x2, y: y2 } = new Point()) {\n    const points = this.clone().points\n    const length = points.length\n\n    const p1 = new Point({ x: x1, y: y1 })\n    const p2 = new Point({ x: x2, y: y2 })\n\n    // Doubles some points (eg for diamond 1)\n    const inside = pos => pos > 0\n\n    return points.reduce(\n      (polygon, I, i) => {\n        const J = points[(i + 1) % length]\n        const { x: xI, y: yI } = I\n        const { x: xJ, y: yJ } = J\n\n        const iPos = (x2 - x1) * (yI - y1) - (y2 - y1) * (xI - x1)\n        const jPos = (x2 - x1) * (yJ - y1) - (y2 - y1) * (xJ - x1)\n        const iIns = inside(iPos)\n        const jIns = inside(jPos)\n\n        if (iIns && jIns) {\n          polygon.points.push(J)\n        } else if (!iIns && jIns) {\n          polygon.points.push(Point.intersection(p1, p2, I, J))\n          polygon.points.push(J)\n        } else if (iIns && !jIns) {\n          polygon.points.push(Point.intersection(p1, p2, I, J))\n        }\n\n        return polygon\n      },\n      new Polygon()\n    )\n  }\n}\n","import Polygon from './Polygon'\nimport Point from './Point'\n\nexport default class Rectangle extends Polygon {\n  constructor(size = new Point()) {\n    super()\n\n    this.points = [\n      new Point(),\n      new Point({ x: size.x }),\n      new Point({ x: size.x, y: size.y }),\n      new Point({ y: size.y }),\n    ]\n  }\n}\n","import Polygon from './Polygon'\nimport Point from './Point'\n\nexport default class Triangle extends Polygon {\n  constructor(size = new Point()) {\n    super()\n\n    this.points = [\n      new Point(),\n      new Point({ x: size.x }),\n      new Point({ y: size.y }),\n    ]\n  }\n}\n","export default ({\n  DEFAULTS = {},\n  validate = _ => true,\n  Base = class {},\n  prefix = '_',\n  after = null,\n}) => class extends Base {\n  constructor(props) {\n    super()\n    this.set(props)\n  }\n\n  set(props) {\n    const object = {}\n    Object.entries(DEFAULTS)\n      .forEach(([name, value]) =>\n        object[name] = [props[name], this[prefix + name], value].find(value => value !== undefined)\n      )\n\n    let valid = validate(object)\n    if (valid === false || valid === null)\n      throw new Error('Invalid props', props)\n\n    if (valid === true || valid === undefined)\n      valid = object\n\n    Object.entries(valid)\n        .forEach(([name, value]) => this[prefix + name] = value)\n\n    after && this[after] && this[after]()\n\n    return this\n  }\n}\n","import settable from '../../utils/settable'\nimport Point from './Point.js'\nimport Rectangle from './Rectangle.js'\nimport Triangle from './Triangle.js'\n\nconst e    = .02\nconst sq2  = Math.sqrt(2)\nconst far  = s => (1 - s)\nconst mid  = s => (1 - s) / 2\nconst diag = s => ({ size: { x: sq2 * s, y: sq2 }, translate: { x: mid(sq2 * s), y: mid(sq2) } })\n\nconst SHAPES = {\n  rect: {\n    _constructor: Rectangle,\n    top         : s => ({ size: { y: s } }),\n    horizontal  : s => ({ size: { y: s }, translate: { y: mid(s) } }),\n    bottom      : s => ({ size: { y: s }, translate: { y: far(s) } }),\n    left        : s => ({ size: { x: s } }),\n    vertical    : s => ({ size: { x: s + e }, translate: { x: mid(s + e) } }),\n    right       : s => ({ size: { x: s }, translate: { x: far(s) } }),\n    topleft     : s => ({ size: s }),\n    topright    : s => ({ size: s, translate: { x: 1 / 2 } }),\n    bottomleft  : s => ({ size: s, translate: { y: 1 / 2 } }),\n    bottomright : s => ({ size: s, translate:      1 / 2   }),\n    diamond     : s => ({ size: s, rotate: 45, scale: 1 / sq2 }),\n    diagasc     : s => ({ ...diag(s), rotate: -45 }),\n    diagdesc    : s => ({ ...diag(s), rotate:  45 }),\n  },\n  triangle: {\n    _constructor: Triangle,\n    topleft     : s => ({ size: 2 * s + e }),\n    topright    : s => ({ size: 2 * s + e, scale: { x: -1, y:  1 } }),\n    bottomleft  : s => ({ size: 2 * s + e, scale: { x:  1, y: -1 } }),\n    bottomright : s => ({ size: 2 * s + e, scale: { x: -1, y: -1 } }),\n  },\n}\n\nconst TRANSITIONS = {\n  east     : 0,\n  northeast: 1,\n  north    : 2,\n  northwest: 3,\n  west     : 4,\n  southwest: 5,\n  south    : 6,\n  southeast: 7,\n}\n\nconst getSize = polygon => {\n  const bb = polygon.boundingBox()\n  const tl = bb.points[0]\n  const br = bb.points[2]\n\n  return new Point({ x: br.x - tl.x, y: br.y - tl.y })\n}\n\nconst SUBTYPES = Object.fromEntries(\n  Object.entries(SHAPES)\n    .map(\n      ([type, data]) => [\n        type,\n        Object.keys(data).filter(subtype => subtype !== '_constructor')\n      ]\n    )\n)\n\nconst DEFAULTS = {\n  size      : 1,\n  type      : 'rect',\n  subtype   : 'top',\n  transition: 'east'\n}\n\nexport default class Mask extends settable({ DEFAULTS, after: '_set' }) {\n  static TYPES       = Object.keys(SUBTYPES)\n  static SUBTYPES    = SUBTYPES\n  static TRANSITIONS = Object.keys(TRANSITIONS)\n  angle\n  _shape\n  _size\n  _type\n  _subtype\n  _transition\n\n  constructor({ size, type, subtype, transition } = {}) {\n    super({ size, type, subtype, transition })\n  }\n\n  _set() {\n    this._shape = this._getShape().crop(new Rectangle({ x: 1, y: 1 }))\n    this.angle  = this._getAngle()\n  }\n\n  get shape() {\n    return { shape: this._shape }\n  }\n\n  enter(radius = 0) {\n    return this._get(radius, w => new Point({ x: -w, y: 0 }))\n  }\n\n  leave(radius = 0) {\n    return this._get(radius)\n  }\n\n  _get(radius = 0, start = _ => new Point()) {\n    const s     = 2 * radius * (1 - sq2) + sq2 // css has max radius=.5, hence *2\n    const shape = this._shape\n      .rotate(-this.angle, new Point({ x: .5, y: .5 }))\n      .crop(\n        new Rectangle({ x: s, y: s })\n          .translate(new Point({ x: (1 - s) / 2, y: (1 - s) / 2 }))\n      )\n      .boundingBox()\n    const width = getSize(shape).x\n\n    return {\n      shape: shape.translate(start(width)),\n      width\n    }\n  }\n\n  _getShape() {\n    if (!Mask.TYPES.includes(this._type))\n      throw new Error(`Invalid type \"${ this._type }\" (${ Mask.TYPES.join(', ') })`)\n\n    if (!Mask.SUBTYPES[this._type].includes(this._subtype))\n      throw new Error(`Invalid subtype \"${ this._subtype }\" for type \"${ this._type }\" (${ Mask.SUBTYPES[this._type].join(', ') })`)\n\n    const constructor = SHAPES[this._type]._constructor\n    const data        = SHAPES[this._type][this._subtype](this._size)\n    let { size, translate, rotate, scale } = Object.assign({\n      size     : {},\n      translate: {},\n      rotate   : 0,\n      scale    : {},\n    }, data)\n\n    if (typeof size      === 'number') size      = { x: size     , y: size      }\n    if (typeof translate === 'number') translate = { x: translate, y: translate }\n    if (typeof scale     === 'number') scale     = { x: scale    , y: scale     }\n\n    size      = Object.assign({ x: 1, y: 1 }, size)\n    translate = Object.assign({ x: 0, y: 0 }, translate)\n    scale     = Object.assign({ x: 1, y: 1 }, scale)\n\n    const center = new Point({ x: 1/2, y: 1/2 })\n    return new constructor(new Point(size))\n      .translate(translate)\n      .rotate   (rotate, center)\n      .scale    (scale , center)\n  }\n\n  _getAngle() {\n    if (!Mask.TRANSITIONS.includes(this._transition))\n      throw new Error(`Invalid transition \"${ this._transition }\" (${ Mask.TRANSITIONS.join(', ') })`)\n\n    return TRANSITIONS[this._transition] * 45\n  }\n}\n","import settable from '../../utils/settable'\n\nexport default (VALUES) => {\n  const NAMES = {\n    0: [], 1: [], 2: [], 3: [],  4: [],  5: [],\n    6: [], 7: [], 8: [], 9: [], 10: [], 11: []\n  }\n  Object.entries(VALUES).forEach(([name, value]) => NAMES[value].push(name))\n\n  const DEFAULTS = {\n    name: NAMES[0][0]\n  }\n\n  return class Base extends settable({ DEFAULTS }) {\n    static N      = 12\n    static VALUES = VALUES\n    static NAMES  = NAMES\n    _name\n\n    constructor({ name } = {}) {\n      super({ name })\n    }\n\n    get name() {\n      return this._name\n    }\n\n    get value() {\n      return VALUES[this._name]\n    }\n\n    add(other = new Base()) {\n      return Base.value(this.value + other.value, this.constructor)\n    }\n\n    equals(other = new Base()) {\n      return this.value === other.value\n    }\n\n    static value(value = VALUES[DEFAULTS.name], Class = Base) {\n      return new Class({\n        name: NAMES[value % Base.N][0]\n      })\n    }\n  }\n}\n","import base from './base'\n\nconst NOTES = {\n  'Cb': 11, 'C' :  0, 'C#':  1,\n  'Db':  1, 'D' :  2, 'D#':  3,\n  'Eb':  3, 'E' :  4, 'E#':  5,\n  'Fb':  4, 'F' :  5, 'F#':  6,\n  'Gb':  6, 'G' :  7, 'G#':  8,\n  'Ab':  8, 'A' :  9, 'A#': 10,\n  'Bb': 10, 'B' : 11, 'B#':  0,\n}\n\nconst Parent = base(NOTES)\n\nexport default class Note extends Parent {\n  static value(value) {\n    return Parent.value(value, Note)\n  }\n}\n","import base from './base'\n\nconst INTERVALS = {\n                      '1':  0,\n            'b2':  1, '2':  2, '#2': 3,\n            'b3':  3, '3':  4,\n            'b4':  4, '4':  5, '#4': 6,\n            'b5':  6, '5':  7, '#5': 8,\n            'b6':  8, '6':  9,\n  'bb7': 9, 'b7': 10, '7': 11,\n}\n\nconst Parent = base(INTERVALS)\n\nexport default class Interval extends Parent {\n  static value(value) {\n    return Parent.value(value, Interval)\n  }\n}\n","import settable from '../../utils/settable'\nimport Note from './Note'\n\nconst DEFAULTS = {\n  intervals: []\n}\n\nexport default class Scale extends settable({ DEFAULTS }) {\n  _intervals\n\n  constructor({ intervals } = {}) {\n    super({ intervals })\n  }\n\n  notes(root = new Note()) {\n    return this._intervals.map(interval => root.add(interval.value))\n  }\n\n  get(root = new Note(), note = new Note()) {\n    return this._intervals.find(interval => root.add(interval).equals(note))\n  }\n}\n","import settable from '../../utils/settable'\n\nconst DEFAULTS = {\n  definition: _ => []\n}\n\nexport default class Mask extends settable({ DEFAULTS }) {\n  _position\n  _definition\n\n  constructor({ definition } = {}) {\n    super({ definition })\n  }\n\n  inside(position = 0, i = 0, j = 0) {\n    const def = this._definition(position)[i]\n\n    return def && (-1 !== def.findIndex(([min, max]) => min <= j && j <= max))\n  }\n\n  static inside(masks = [], i = 0, j = 0) {\n    return masks.length\n      ? -1 !== masks.findIndex(({ position, mask }) => mask.inside(position, i, j))\n      : true\n  }\n}\n","import settable from '../../utils/settable'\nimport { Note } from '../music'\nimport Mask from './Mask'\n\nconst DEFAULTS = {\n  tuning: [],\n  from  : 0,\n  to    : Note.N\n}\nconst validate = ({ from, to }) => {\n  if (from > to)\n    throw new Error(`from (${ from }) is geater than to (${ to })`)\n}\n\nexport default class Instrument extends settable({ DEFAULTS, validate }) {\n  _tuning\n  _from\n  _to\n\n  constructor({ tuning, from, to } = {}) {\n    super({ tuning, from, to })\n  }\n\n  get length() {\n    return this._to - this._from + 1\n  }\n\n  strings({ masks = [], cb = _ => _ }) {\n    return [...this._tuning]\n      .map((note, index) => ({\n        stringIndex: index,\n        stringNote : note\n      }))\n      .map(({ stringIndex, stringNote }) => ({\n        boxes: Array.from(\n          Array(this.length),\n          (v, boxIndex) => cb({\n            note  : stringNote.add(Note.value(this._from + boxIndex)),\n            inside: Mask.inside(masks, stringIndex, boxIndex)\n          })\n        )\n      }))\n  }\n}\n","import settable from '../utils/settable'\n\nconst DEFAULTS = {\n  color      : 'transparent',\n  radius     : 0,\n  strokeWidth: 0,\n  strokeColor: 'transparent',\n}\n\nexport default class Style extends settable({ DEFAULTS }) {\n  _color\n  _radius\n  _strokeWidth\n  _strokeColor\n\n  constructor({ color, radius, stroke: { width: strokeWidth, color: strokeColor } = {} } = {}) {\n    super({ color, radius, strokeWidth, strokeColor })\n  }\n\n  toJSON() {\n    return {\n      color : this._color,\n      radius: this._radius,\n      stroke: {\n        width: this._strokeWidth,\n        color: this._strokeColor,\n      }\n    }\n  }\n}\n","import Interval from '../lib/music/Interval'\nimport Style from './Style'\n\nexport default class Palette {\n  constructor(style = new Style()) {\n    let fn\n    const apply = fn => Object.keys(Interval.VALUES)\n      .map(name => [\n        name,\n        fn(new Interval({ name })) || new Style()\n      ])\n\n    if (style instanceof Style)\n      fn = () => style\n    else if (typeof style === 'function')\n      fn = style\n    else\n      throw new Error(`First argument is either a Style or a function`)\n\n    this._styles = Object.fromEntries(apply(fn))\n  }\n\n  get(interval) {\n    return interval instanceof Interval\n      ? this._styles[interval.name]\n      : new Style()\n  }\n\n}\n","import settable from '../utils/settable'\nimport { Instrument } from '../lib/instruments'\n\nconst DEFAULTS = {\n  instrument: new Instrument(),\n  duration  : '',\n  timeline  : [[]],\n}\n\nexport default class Lesson extends settable({ DEFAULTS, after: 'states' }) {\n  _instrument\n  _duration\n  _timeline\n  _states\n\n  constructor({ instrument, duration, timeline } = {}) {\n    super({ instrument, duration, timeline })\n  }\n\n  *iterator() {\n    yield* this._states.map(({ layers }) => ({ layers: layers.map(({ strings }) => ({ strings })) }))\n  }\n\n  [Symbol.iterator]() {\n    return this.iterator()\n  }\n\n  states() {\n    this._states = this._timeline\n      .map(\n        layers => ({\n          layers: layers.map(\n            layer => {\n              const { palette, scale, instrumentMasks: masks} = layer\n\n              const cb = ({ note, inside }) => {\n                note = scale.get(layer.root, note)\n\n                return {\n                  empty   : !inside || !note,\n                  style   : palette.get(inside ? note : null).toJSON(),\n                  mask    : layer.boxMask,\n                  duration: this._duration\n                }\n              }\n\n              const strings = this._instrument.strings({ masks, cb })\n\n              return { ...layer, strings }\n            }\n          )\n        })\n      )\n\n    Array\n      .from(this._boxIterator())\n      .forEach(({ stateIndex, layerIndex, stringIndex, boxIndex, box }) => {\n        const min = 0\n        const max = this._states.length - 1\n        const ind = i => Math.max(Math.min(i, max), min)\n        const get = i => this\n          ._states[ind(i)]\n          .layers[layerIndex]\n          .strings[stringIndex]\n          .boxes[boxIndex]\n\n        const radius = box.style.radius\n        const { empty: prevEmpty, style: { radius: prevRadius } } = get(stateIndex - 1)\n        const { empty: nextEmpty, style: { radius: nextRadius } } = get(stateIndex + 1)\n\n        const enter = prevEmpty ? radius : Math.min(radius, prevRadius)\n        const leave = nextEmpty ? radius : Math.min(radius, nextRadius)\n\n        box.mask = {\n          shape: box.mask.shape,\n          angle: box.mask.angle,\n          enter: box.mask.enter(enter),\n          leave: box.mask.leave(leave),\n        }\n      })\n  }\n\n  *_boxIterator() {\n    yield* this._states.map(\n      ({ layers }, stateIndex) =>\n        layers.map(\n          ({ strings }, layerIndex) =>\n            strings.map(\n              ({ boxes }, stringIndex) =>\n                boxes.map(\n                  (box, boxIndex) => ({\n                    stateIndex,\n                    layerIndex,\n                    stringIndex,\n                    boxIndex,\n                    box\n                  })\n              ).flat()\n            ).flat()\n        ).flat()\n    ).flat()\n  }\n}\n","import React, { Component } from 'react'\nimport Guitar from './instruments/guitar/Guitar'\nimport { Mask as BoxMask } from '../lib/polygons'\nimport { Note, Interval, Scale } from '../lib/music'\nimport { Instrument, Mask as InstrumentMask } from '../lib/instruments'\nimport Style from '../classes/Style'\nimport Palette from '../classes/Palette'\nimport Lesson from '../classes/Lesson'\n\nObject.entries(\n    { BoxMask, Note, Interval, Scale, Instrument, InstrumentMask, Style, Palette, Lesson }\n).forEach(([name, klass]) => window[name] = klass)\n\nconst palettes = {\n    blue: new Palette(new Style({ color: 'blue' })),\n    red : new Palette(new Style({ color: 'red' })),\n    rGreen: new Palette(new Style({ color: 'green', radius: .5 })),\n    sGreen: new Palette(new Style({ color: 'green', radius: 0 })),\n    rBlue: new Palette(new Style({ color: 'blue', radius: .5 })),\n    sBlue: new Palette(new Style({ color: 'blue', radius: 0 })),\n    squared: new Palette(new Style({ color: 'green', radius: 0 })),\n    cool: new Palette(interval => {\n        interval = interval.name\n        const color = (a, i) => `hsl(${ a * 360 / 7 }, ${ 50 + i }%, ${ 50 + i }%)`\n        const last  = +interval[interval.length - 1]\n        const style = {}\n\n        if      (interval.startsWith('bb')) style.color = color(last, -30)\n        else if (interval.startsWith('b') ) style.color = color(last, -20)\n        else if (interval.startsWith('#') ) style.color = color(last,  20)\n        else                                style.color = color(last,  0)\n\n        if (['1', 'b3', '3', 'b5', '5', 'bb7', 'b7', '7'].includes(interval)) {\n            /* style.stroke = { width: '5px', color: 'gold' } */\n            /* style.radius = 50 */\n        }\n\n        if (+interval === 1) style.color = 'white'\n\n        return new Style(style)\n    })\n}\n\nconst scales = Object.fromEntries(\n    Object.entries({\n        empty    : [],\n        pentam   : ['1', 'b3', '4', '5', 'b7'],\n        aeolian  : ['1', '2', 'b3', '4', '5', 'b6', 'b7'],\n        pentaM   : ['1', '2', '3', '5', '6'],\n        ionian   : ['1', '2', '3', '4', '5', '6', '7'],\n        chromatic: ['1', 'b2', '2', 'b3', '3', '4', 'b5', '5', 'b6', '6', 'b7', '7'],\n    }).map(([name, intervals]) => [name, new Scale({ intervals: intervals.map(name => new Interval({ name })) })])\n)\n\nconst boxMasks = Object.fromEntries(\n    Object.entries({\n        brTriangle: { size: 1/3, type: 'triangle', subtype: 'bottomright', transition: 'southeast' },\n        fullRect  : { size: 1  , type: 'rect'    , subtype: 'top'        , transition: 'southeast' },\n        tlTriangle: { size: 1/3, type: 'triangle', subtype: 'topleft'    , transition: 'southeast' },\n        trTriangle: { size: 1/3, type: 'triangle', subtype: 'topright'   , transition: 'southeast' },\n        diag      : { size: 1/3, type: 'rect'    , subtype: 'diagasc'    , transition: 'southeast' },\n    }).map(([name, data]) => [name, new BoxMask(data)])\n)\n\nconst instruments = Object.fromEntries(\n    Object.entries({\n        guitarStandard: ['E', 'A', 'D', 'G', 'B', 'E']\n    }).map(([name, tuning]) => [name, new Instrument({ tuning: tuning.reverse().map(name => new Note({ name })) })])\n)\n\nconst instrumentMasks = [\n    {\n        definition: position => [\n            [[-Infinity, position], [position + 4, Infinity]],\n            [[-Infinity, position], [position + 4, Infinity]],\n            [[-Infinity, position], [position + 4, Infinity]],\n            [[-Infinity, position], [position + 4, Infinity]],\n            [[-Infinity, position], [position + 4, Infinity]],\n            [[-Infinity, position], [position + 4, Infinity]],\n        ]\n    },\n    {\n        definition: position => [\n            [[-Infinity, Infinity]],\n            [[-Infinity, Infinity]],\n            [[-Infinity, Infinity]],\n            [[-Infinity, Infinity]],\n            [[-Infinity, Infinity]],\n            [[-Infinity, Infinity]],\n        ]\n    },\n].map(mask => new InstrumentMask(mask))\n\nconst m = ({ position: 5, mask: instrumentMasks[1] })\nconst lesson = new Lesson({\n    instrument: instruments.guitarStandard,\n    duration: '2s',\n    timeline: [\n        [\n            { root: 'C', boxMask: boxMasks.tlTriangle, palette: palettes.rGreen, scale: scales.chromatic, instrumentMasks: [m] },\n            { root: 'C', boxMask: boxMasks.brTriangle, palette: palettes.sBlue, scale: scales.chromatic, instrumentMasks: [m] },\n        ],\n        [\n            { root: 'C', boxMask: boxMasks.tlTriangle, palette: palettes.sBlue, scale: scales.chromatic, instrumentMasks: [m] },\n            { root: 'C', boxMask: boxMasks.brTriangle, palette: palettes.sGreen, scale: scales.chromatic, instrumentMasks: [m] },\n        ],\n        [\n            { root: 'C', boxMask: boxMasks.tlTriangle, palette: palettes.rGreen, scale: scales.chromatic, instrumentMasks: [m] },\n            { root: 'C', boxMask: boxMasks.brTriangle, palette: palettes.sBlue, scale: scales.chromatic, instrumentMasks: [m] },\n        ],\n        [\n            { root: 'C', boxMask: boxMasks.tlTriangle, palette: palettes.sBlue, scale: scales.empty, instrumentMasks: [m] },\n            { root: 'C', boxMask: boxMasks.brTriangle, palette: palettes.sGreen, scale: scales.chromatic, instrumentMasks: [m] },\n        ],\n        [\n            { root: 'C', boxMask: boxMasks.tlTriangle, palette: palettes.sGreen, scale: scales.chromatic, instrumentMasks: [m] },\n            { root: 'C', boxMask: boxMasks.brTriangle, palette: palettes.sBlue, scale: scales.chromatic, instrumentMasks: [m] },\n        ],\n        [\n            { root: 'C', boxMask: boxMasks.tlTriangle, palette: palettes.rBlue, scale: scales.empty, instrumentMasks: [m] },\n            { root: 'C', boxMask: boxMasks.brTriangle, palette: palettes.sGreen, scale: scales.chromatic, instrumentMasks: [m] },\n        ],\n        [\n            { root: 'C', boxMask: boxMasks.tlTriangle, palette: palettes.rGreen, scale: scales.chromatic, instrumentMasks: [m] },\n            { root: 'C', boxMask: boxMasks.brTriangle, palette: palettes.sBlue, scale: scales.chromatic, instrumentMasks: [m] },\n        ],\n        [\n            { root: 'C', boxMask: boxMasks.tlTriangle, palette: palettes.rBlue, scale: scales.empty, instrumentMasks: [m] },\n            { root: 'C', boxMask: boxMasks.brTriangle, palette: palettes.sGreen, scale: scales.chromatic, instrumentMasks: [m] },\n        ],\n        [\n            { root: 'C', boxMask: boxMasks.tlTriangle, palette: palettes.rGreen, scale: scales.chromatic, instrumentMasks: [m] },\n            { root: 'C', boxMask: boxMasks.brTriangle, palette: palettes.sBlue, scale: scales.chromatic, instrumentMasks: [m] },\n        ],\n    ].map(layers => layers.map(layer => ({ ...layer, root: new Note({ name: layer.root }) })))\n})\n\nwindow.lesson = lesson\nObject.entries(\n    { palettes, scales, instruments, boxMasks, instrumentMasks, lesson }\n).forEach(([name, object]) => console.log(name, object))\n\nconst duration = 2500\n\nclass App extends Component {\n    constructor(props) {\n        super(props)\n\n        this.iterator = lesson.iterator()\n        this.state    = this.getState()\n    }\n\n    componentDidMount   () { this.update() }\n    componentDidUpdate  () { this.update() }\n    componentWillUnmount() { clearTimeout(this.timer) }\n\n    update() {\n        const state = this.getState()\n\n        if (state)\n            this.timer = setTimeout(() => this.setState(state), duration)\n    }\n\n    getState() {\n        const next = this.iterator.next()\n\n        return next.done ? null : next.value\n    }\n\n    render() {\n        console.log('state', this.state)\n        return (\n            <Guitar layers={ this.state.layers }></Guitar>\n        )\n    }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/index.css'\nimport registerServiceWorker from './registerServiceWorker'\nimport './utils/polyfills'\nimport App from './components/App'\n\nsetTimeout(() => {\n    ReactDOM.render(\n        <App />,\n        document.getElementById('root'))\n    registerServiceWorker()\n}, 50)\n"],"sourceRoot":""}