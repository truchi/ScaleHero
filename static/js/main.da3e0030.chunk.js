(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(t,e,n){t.exports={_easing:"cubic-bezier(0.55, 0.085, 0.68, 0.53)",transition:"BoxMask_transition__bH8Is",to:"BoxMask_to__1LL9g",ellipse:"BoxMask_ellipse__1cWxe",shape:"BoxMask_shape__N2Z5S",enter:"BoxMask_enter__1Cc8K BoxMask_transition__bH8Is",leave:"BoxMask_leave__1j_Ux BoxMask_transition__bH8Is"}},,,,,,function(t,e,n){t.exports={"_box-width":"80px","_box-height":"60px","_box-gap":"3px",box:"Box_box__2iRzQ",svg:"Box_svg__9GN1B"}},,function(t,e,n){t.exports={unit:"BoxUnit_unit__G7W3f"}},function(t,e,n){t.exports={"_box-height":"60px","_string-gap":"3px",string:"String_string__2Nu9o"}},function(t,e,n){t.exports={layer:"Layer_layer__1mjZf"}},function(t,e,n){t.exports={guitar:"Guitar_guitar__2JwU0"}},function(t,e,n){t.exports=n(31)},,,,,,function(t,e,n){},,,function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),i=n(14),o=n.n(i),s=(n(28),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function c(){if("serviceWorker"in navigator){if(new URL("/ScaleHero",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/ScaleHero","/service-worker.js");s?function(t){fetch(t).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):u(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t):u(t)})}}function u(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(t){console.error("Error during service worker registration:",t)})}var l=n(11),h=n(12);Object.fromEntries=function(t){return Object(h.a)(t).reduce(function(t,e){var n=e[0],r=e[1];return Object.assign(t,Object(l.a)({},n,r))},{})},Array.prototype.flat=function(){var t;return(t=[]).concat.apply(t,Object(h.a)(this))};var f=n(0),v=n(2),p=n(4),b=n(3),d=n(5),m=n(8),y=n(7),g=n(6),j=n(9),O=n(15),k=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.entries(e).reduce(function(e,r){var a,i=Object(y.a)(r,2),o=i[0],s=i[1];return n&&(o=n+((a=o).charAt(0).toUpperCase()+a.slice(1))),null===s||void 0===s?Object(m.a)({},e,Object(l.a)({},o,null)):"object"===typeof s?Object(m.a)({},e,t(s,o)):Object(m.a)({},e,Object(l.a)({},o,s))},{})},x=function(t){var e,n;return n=e=function(e){function n(t){var e;Object(f.a)(this,n),(e=Object(p.a)(this,Object(b.a)(n).call(this,t))).css=function(t){var n=Object(i.findDOMNode)(Object(g.a)(Object(g.a)(e)));n&&(e.css.$=n,t=k(e.getStyles(t)),Object.entries(t).forEach(function(t){var e=Object(y.a)(t,2),r=e[0],a=e[1];return n.style.setProperty("--".concat(r),a)}))};var r=e.props.rcv;return Array.isArray(r)&&"function"===typeof r[1]&&r[1](e.css),e}return Object(d.a)(n,e),Object(v.a)(n,[{key:"componentDidMount",value:function(){this.css()}},{key:"componentDidUpdate",value:function(){this.css()}},{key:"getStyles",value:function(t){return t||(t=this.props.rcv,Array.isArray(t)&&(t=t[0]),t||{})}},{key:"render",value:function(){var e=Object(m.a)({},this.props);return delete e.rcv,a.a.cloneElement(t,e)}}]),n}(r.Component),e.displayName="RCV(".concat(t.type,")"),n},w=n(10),_=n.n(w),E=x(a.a.createElement("g",null)),M=x(a.a.createElement("rect",null)),S=x(a.a.createElement("polygon",null)),T=function(t){function e(t){var n;return Object(f.a)(this,e),(n=Object(p.a)(this,Object(b.a)(e).call(this,t))).rcv={},n.states={entering:!1,entered:!1,leaving:!1,left:!1},n.entered=function(t){n.states.entering&&(n.states.entering=!1,n.states.entered=!0,n.onEntered(Object(g.a)(Object(g.a)(n)),t))},n.left=function(t){n.states.leaving&&(n.states.leaving=!1,n.states.left=!0,n.rcv.enter.$.classList.remove(_.a.to),n.onLeft(Object(g.a)(Object(g.a)(n)),t))},n.onEntered=n.props.onEntered||function(t){return t},n.onLeft=n.props.onLeft||function(t){return t},n}return Object(d.a)(e,t),Object(v.a)(e,[{key:"events",value:function(t){var e=t+"EventListener";this.rcv.enter.$[e]("transitionend",this.entered),this.rcv.leave.$[e]("transitionend",this.left)}},{key:"componentDidMount",value:function(){this.events("add"),this.animate(!0)}},{key:"componentDidUpdate",value:function(){this.animate()}},{key:"componentWillUnmount",value:function(){this.events("remove")}},{key:"animate",value:function(){var t=this,n=function(){t.props.animate===e.ENTER&&t.enter(),t.props.animate===e.LEAVE&&t.leave()};arguments.length>0&&void 0!==arguments[0]&&arguments[0]?setTimeout(n):n()}},{key:"enter",value:function(){this.states.entering||(this.states.entering=!0,this.rcv.leave.$.classList.remove(_.a.to),this.rcv.enter.$.classList.add(_.a.to))}},{key:"leave",value:function(){this.states.leaving||(this.states.leaving=!0,this.rcv.leave.$.classList.add(_.a.to))}},{key:"render",value:function(){var t=this.renderData(),e=t.g,n=t.mask,r=n.clipPath,i=n.rect,o=t.data;return a.a.createElement(E,e,a.a.createElement("clipPath",r,a.a.createElement(M,i)),o.map(function(t){var e=t.clipPath,n=t.polygon;return a.a.createElement("clipPath",e,a.a.createElement(S,n))}))}},{key:"renderData",value:function(){var t=this,e=this.props,n=e.angle,r=e.radius,a=e.duration,i=function(e){return e?"".concat(t.props.id,"-").concat(e):null},o=function(t){return t?'url("#'.concat(t,'")'):null},s=Object.fromEntries([["shape","enter"],["enter","leave"]].map(function(t){var e=Object(y.a)(t,2),n=e[0],r=e[1];return[n,o(i(r))]}));return{g:{className:_.a.mask,rcv:{angle:"".concat(-n,"deg"),duration:a}},mask:{clipPath:{id:i("mask"),clipPath:o(i("shape")),clipPathUnits:"objectBoundingBox"},rect:{className:_.a.ellipse,x:"0",y:"0",width:"1",height:"1",rcv:{radius:r}}},data:["shape","enter","leave"].map(function(e){return{clipPath:{key:e,id:i(e),clipPath:s[e],clipPathUnits:"objectBoundingBox"},polygon:{className:_.a[e],points:t.props[e].shape,rcv:[{width:"".concat(t.props[e].width,"px")},function(n){return t.rcv[e]=n}]}}})}}}]),e}(r.Component);T.ENTER="enter",T.LEAVE="leave";var I,B=n(18),A=n.n(B),C=x(a.a.createElement("rect",null)),P=function(t){function e(){return Object(f.a)(this,e),Object(p.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(v.a)(e,[{key:"render",value:function(){var t=this.props,e=t.style,n=t.clip,r=Object(m.a)({},e,{clip:n});return a.a.createElement(C,{className:A.a.unit,rcv:r})}}]),e}(r.Component),N=function(t){function e(){var t,n;Object(f.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(p.a)(this,(t=Object(b.a)(e)).call.apply(t,[this].concat(a))),Object.defineProperty(Object(g.a)(Object(g.a)(n)),L,{writable:!0,value:[]}),n.prev=!1,n}return Object(d.a)(e,t),Object(v.a)(e,[{key:"render",value:function(){var t=this.props.active,e=void 0===t?this.prev:t,n=this.components;return this.prev=e,n}},{key:"components",get:function(){var t=this,e=Object(j.a)(this,L)[L].length,n=this.props,r=n.Component,i=n.active,o=void 0===i?this.prev:i,s=n.length,c=void 0===s?e:s,u=n.initialProps,l=void 0===u?function(t){return t}:u,h=n.alwaysProps,f=void 0===h?function(t){return t}:h,v=n.activeProps,p=void 0===v?function(t){return t}:v,b=n.inactiveProps,d=void 0===b?function(t){return t}:b;return Object(j.a)(this,L)[L]=Object(j.a)(this,L)[L].slice(0,c).concat(e>=c?[]:Array.from(Array(c-e),function(t,e){return a.a.cloneElement(a.a.createElement(r,null),l(e))})).map(function(e,n){return a.a.cloneElement(e,Object(m.a)({},f(n,t.prev),(n===o?p:d).call(null,n,t.prev),{i:n,key:n}))}),Object(j.a)(this,L)[L]}}]),e}(r.Component),L=Object(O.a)("components"),z=n(16),D=n.n(z),U=(I=10,function(){return Math.random().toString(36).substr(2,I)}),G=0,Y=function(t){function e(t){var n;Object(f.a)(this,e),n=Object(p.a)(this,Object(b.a)(e).call(this,t)),Object.defineProperty(Object(g.a)(Object(g.a)(n)),W,{writable:!0,value:[]}),n.remove=function(t){Object(j.a)(Object(g.a)(Object(g.a)(n)),W)[W][t.props.i]=e.IDLE,console.log("REMOVED",t.props.i,JSON.stringify(Object(j.a)(Object(g.a)(Object(g.a)(n)),W)[W]))},n.maskInitialProps=function(t){return{id:"".concat(n.id,"-").concat(t),duration:n.props.duration,angle:n.props.mask.angle,shape:n.props.mask.shape,enter:{shape:"",width:0},leave:{shape:"",width:0},onLeft:n.remove}},n.maskActiveProps=function(t){return{animate:T.ENTER,enter:n.props.mask.enter,leave:n.props.mask.leave,radius:n.props.style.radius}},n.maskInactiveProps=function(t,e){return{animate:e===t?T.LEAVE:null}},n.unitInitialProps=function(t){return{clip:'url("#'.concat(n.id,"-").concat(t,'-mask")')}},n.unitActiveProps=function(t){return{style:n.props.style}},n.id="".concat(U(),"-").concat(++G);for(var r=0;r<e.MASKS;++r)Object(j.a)(Object(g.a)(Object(g.a)(n)),W)[W].push(e.IDLE);return n}return Object(d.a)(e,t),Object(v.a)(e,[{key:"render",value:function(){var t=this.idle;return Object(j.a)(this,W)[W][t]=e.BUSY,a.a.createElement("box",{className:D.a.box},a.a.createElement("svg",{className:D.a.svg},a.a.createElement("defs",null,a.a.createElement(N,{Component:T,length:this.length,active:t,initialProps:this.maskInitialProps,activeProps:this.maskActiveProps,inactiveProps:this.maskInactiveProps})),a.a.createElement(N,{Component:P,length:this.length,active:t,initialProps:this.unitInitialProps,activeProps:this.unitActiveProps})))}},{key:"length",get:function(){return Object(j.a)(this,W)[W].length}},{key:"idle",get:function(){var t=Object(j.a)(this,W)[W].findIndex(function(t){return t===e.IDLE});return-1===t&&(Object(j.a)(this,W)[W].push(e.IDLE),t=this.length-1),console.log("%ccandidate","font-weight: bold",t,JSON.stringify(Object(j.a)(this,W)[W])),t}}]),e}(r.Component),W=Object(O.a)("list");Y.MASKS=2,Y.IDLE="idle",Y.BUSY="busy";var F=Y,R=n(19),X=n.n(R),$=function(t){function e(){return Object(f.a)(this,e),Object(p.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(v.a)(e,[{key:"render",value:function(){return a.a.createElement("string",{className:X.a.string},this.props.boxes.map(function(t,e){var n=t.style,r=t.mask,i=t.duration;return a.a.createElement(F,{key:e,style:n,mask:r,duration:i})}))}}]),e}(r.Component),J=n(20),V=n.n(J),q=function(t){function e(){return Object(f.a)(this,e),Object(p.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(v.a)(e,[{key:"render",value:function(){return a.a.createElement("layer",{className:V.a.layer},this.props.strings.map(function(t,e){var n=t.boxes;return a.a.createElement($,{key:e,boxes:n})}))}}]),e}(r.Component),H=n(21),K=n.n(H),Z=function(t){function e(){return Object(f.a)(this,e),Object(p.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(v.a)(e,[{key:"render",value:function(){return a.a.createElement("guitar",{className:K.a.guitar},this.props.layers.map(function(t,e){return a.a.createElement(q,Object.assign({key:e},t))}))}}]),e}(r.Component),Q=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.x,r=void 0===n?0:n,a=e.y,i=void 0===a?0:a;Object(f.a)(this,t),this.x=r||0,this.y=i||0}return Object(v.a)(t,[{key:"opposite",value:function(){return this.clone(function(t){return-t})}},{key:"translate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new t;return new t({x:this.x+e.x,y:this.y+e.y})}},{key:"scale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new t;return"number"===typeof e&&(e=new t({x:e,y:e})),n.translate(this.translate(n.opposite()).clone(function(t,n){return t*e[n]}))}},{key:"rotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new t,r=-2*Math.PI*e/360,a=Math.cos(r),i=Math.sin(r),o=this.translate(n.opposite()),s=o.x*a-o.y*i,c=o.x*i+o.y*a;return n.translate(new t({x:s,y:c})).round(5)}},{key:"round",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.clone(function(e){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)||0})}},{key:"quarterify",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},r=this.clone(),a=e.clone(function(t){return t/2}),i=function(){var t=[r.x,r.y,a.x,a.y],e=t[0],n=t[1],i=t[2],o=t[3];return e>i&&n>o?0:e<i&&n>o?-90:e<i&&n<o?-180:-270}();return function(t){return t.scale(.5).translate(a).rotate(i,a)}(n(function(t){return t.rotate(-i,a).translate(a.opposite()).scale(2)}(r)))}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t};return new t({x:e(this.x,"x"),y:e(this.y,"y")})}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return"".concat(this.x).concat(t).concat(e).concat(this.y).concat(t)}}],[{key:"intersection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new t,n=e.x,r=e.y,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new t,i=a.x,o=a.y,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new t,c=s.x,u=s.y,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new t,h=l.x,f=l.y,v=n*o-r*i,p=c*f-u*h,b=(n-i)*(u-f)-(r-o)*(c-h);return new t({x:(v*(c-h)-p*(n-i))/b,y:(v*(u-f)-p*(r-o))/b})}}]),t}(),tt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(f.a)(this,t),this.points=[],this.points=e}return Object(v.a)(t,[{key:"translate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Q;return this.clone(function(e){return e.translate(t)})}},{key:"rotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Q;return this.clone(function(n){return n.rotate(t,e)})}},{key:"scale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Q,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Q;return this.clone(function(n){return n.scale(t,e)})}},{key:"boundingBox",value:function(){var e=this.points[0]||new Q,n=this.points.reduce(function(t,e){return{minX:Math.min(t.minX,e.x),maxX:Math.max(t.maxX,e.x),minY:Math.min(t.minY,e.y),maxY:Math.max(t.maxY,e.y)}},{minX:e.x,maxX:e.x,minY:e.y,maxY:e.y}),r=n.minX,a=n.maxX,i=n.minY,o=n.maxY;return new t([new Q({x:r,y:i}),new Q({x:a,y:i}),new Q({x:a,y:o}),new Q({x:r,y:o})])}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t};return new t(this.points.map(function(t,n){return e(t.clone(),n)}))}},{key:"toString",value:function(){return this.points.map(function(t){return t.toString()}).join(" ")}},{key:"crop",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new t).points,n=e.length;return e.reduce(function(t,r,a){return t.cropLine(r,e[(a+1)%n])},this)}},{key:"cropLine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Q,n=e.x,r=e.y,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Q,i=a.x,o=a.y,s=this.clone().points,c=s.length,u=new Q({x:n,y:r}),l=new Q({x:i,y:o}),h=function(t){return t>0};return s.reduce(function(t,e,a){var f=s[(a+1)%c],v=e.x,p=e.y,b=f.x,d=f.y,m=(i-n)*(d-r)-(o-r)*(b-n),y=h((i-n)*(p-r)-(o-r)*(v-n)),g=h(m);return y&&g?t.points.push(f):!y&&g?(t.points.push(Q.intersection(u,l,e,f)),t.points.push(f)):y&&!g&&t.points.push(Q.intersection(u,l,e,f)),t},new t)}}]),t}(),et=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Q;return Object(f.a)(this,e),(t=Object(p.a)(this,Object(b.a)(e).call(this))).points=[new Q,new Q({x:n.x}),new Q({x:n.x,y:n.y}),new Q({y:n.y})],t}return Object(d.a)(e,t),e}(tt),nt=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Q;return Object(f.a)(this,e),(t=Object(p.a)(this,Object(b.a)(e).call(this))).points=[new Q,new Q({x:n.x}),new Q({y:n.y})],t}return Object(d.a)(e,t),e}(tt),rt=function(t){var e=t.DEFAULTS,n=void 0===e?{}:e,r=t.validate,a=void 0===r?function(t){return!0}:r,i=t.Base,o=void 0===i?function(){return function t(){Object(f.a)(this,t)}}():i,s=t.prefix,c=void 0===s?"_":s,u=t.after,l=void 0===u?null:u;return function(t){function e(t){var n;return Object(f.a)(this,e),(n=Object(p.a)(this,Object(b.a)(e).call(this))).set(t),n}return Object(d.a)(e,t),Object(v.a)(e,[{key:"set",value:function(t){var e=this,r={};Object.entries(n).forEach(function(n){var a=Object(y.a)(n,2),i=a[0],o=a[1];return r[i]=[t[i],e[c+i],o].find(function(t){return void 0!==t})});var i=a(r);if(!1===i||null===i)throw new Error("Invalid props",t);return!0!==i&&void 0!==i||(i=r),Object.entries(i).forEach(function(t){var n=Object(y.a)(t,2),r=n[0],a=n[1];return e[c+r]=a}),l&&this[l]&&this[l](),this}}]),e}(o)},at=Math.sqrt(2),it=function(t){return 1-t},ot=function(t){return(1-t)/2},st=function(t){return{size:{x:at*t,y:at},translate:{x:ot(at*t),y:ot(at)}}},ct={rect:{_constructor:et,top:function(t){return{size:{y:t}}},horizontal:function(t){return{size:{y:t},translate:{y:ot(t)}}},bottom:function(t){return{size:{y:t},translate:{y:it(t)}}},left:function(t){return{size:{x:t}}},vertical:function(t){return{size:{x:t+.02},translate:{x:ot(t+.02)}}},right:function(t){return{size:{x:t},translate:{x:it(t)}}},topleft:function(t){return{size:t}},topright:function(t){return{size:t,translate:{x:.5}}},bottomleft:function(t){return{size:t,translate:{y:.5}}},bottomright:function(t){return{size:t,translate:.5}},diamond:function(t){return{size:t,rotate:45,scale:1/at}},diagasc:function(t){return Object(m.a)({},st(t),{rotate:-45})},diagdesc:function(t){return Object(m.a)({},st(t),{rotate:45})}},triangle:{_constructor:nt,topleft:function(t){return{size:2*t+.02}},topright:function(t){return{size:2*t+.02,scale:{x:-1,y:1}}},bottomleft:function(t){return{size:2*t+.02,scale:{x:1,y:-1}}},bottomright:function(t){return{size:2*t+.02,scale:{x:-1,y:-1}}}}},ut={east:0,northeast:1,north:2,northwest:3,west:4,southwest:5,south:6,southeast:7},lt=Object.fromEntries(Object.entries(ct).map(function(t){var e=Object(y.a)(t,2),n=e[0],r=e[1];return[n,Object.keys(r).filter(function(t){return"_constructor"!==t})]})),ht=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.size,r=t.type,a=t.subtype,i=t.transition;return Object(f.a)(this,e),Object(p.a)(this,Object(b.a)(e).call(this,{size:n,type:r,subtype:a,transition:i}))}return Object(d.a)(e,t),Object(v.a)(e,[{key:"_set",value:function(){this._shape=this._getShape().crop(new et({x:1,y:1})),this.angle=this._getAngle()}},{key:"enter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._get(t,function(t){return new Q({x:-t,y:0})})}},{key:"leave",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._get(t)}},{key:"_get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return new Q},n=2*t*(1-at)+at,r=this._shape.rotate(-this.angle,new Q({x:.5,y:.5})).crop(new et({x:n,y:n}).translate(new Q({x:(1-n)/2,y:(1-n)/2}))).boundingBox(),a=function(t){var e=t.boundingBox(),n=e.points[0],r=e.points[2];return new Q({x:r.x-n.x,y:r.y-n.y})}(r).x;return{shape:r.translate(e(a)),width:a}}},{key:"_getShape",value:function(){if(!e.TYPES.includes(this._type))throw new Error('Invalid type "'.concat(this._type,'" (').concat(e.TYPES.join(", "),")"));if(!e.SUBTYPES[this._type].includes(this._subtype))throw new Error('Invalid subtype "'.concat(this._subtype,'" for type "').concat(this._type,'" (').concat(e.SUBTYPES[this._type].join(", "),")"));var t=ct[this._type]._constructor,n=ct[this._type][this._subtype](this._size),r=Object.assign({size:{},translate:{},rotate:0,scale:{}},n),a=r.size,i=r.translate,o=r.rotate,s=r.scale;"number"===typeof a&&(a={x:a,y:a}),"number"===typeof i&&(i={x:i,y:i}),"number"===typeof s&&(s={x:s,y:s}),a=Object.assign({x:1,y:1},a),i=Object.assign({x:0,y:0},i),s=Object.assign({x:1,y:1},s);var c=new Q({x:.5,y:.5});return new t(new Q(a)).translate(i).rotate(o,c).scale(s,c)}},{key:"_getAngle",value:function(){if(!e.TRANSITIONS.includes(this._transition))throw new Error('Invalid transition "'.concat(this._transition,'" (').concat(e.TRANSITIONS.join(", "),")"));return 45*ut[this._transition]}},{key:"shape",get:function(){return{shape:this._shape}}}]),e}(rt({DEFAULTS:{size:1,type:"rect",subtype:"top",transition:"east"},after:"_set"}));ht.TYPES=Object.keys(lt),ht.SUBTYPES=lt,ht.TRANSITIONS=Object.keys(ut);var ft=function(t){var e,n,r={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[],11:[]};Object.entries(t).forEach(function(t){var e=Object(y.a)(t,2),n=e[0],a=e[1];return r[a].push(n)});var a={name:r[0][0]};return n=e=function(e){function n(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).name;return Object(f.a)(this,n),Object(p.a)(this,Object(b.a)(n).call(this,{name:t}))}return Object(d.a)(n,e),Object(v.a)(n,[{key:"add",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new n;return n.value(this.value+t.value,this.constructor)}},{key:"equals",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new n;return this.value===t.value}},{key:"name",get:function(){return this._name}},{key:"value",get:function(){return t[this._name]}}],[{key:"value",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t[a.name];return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:n)({name:r[e%n.N][0]})}}]),n}(rt({DEFAULTS:a})),e.N=12,e.VALUES=t,e.NAMES=r,n},vt=ft({Cb:11,C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,"E#":5,Fb:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,"B#":0}),pt=function(t){function e(){return Object(f.a)(this,e),Object(p.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(v.a)(e,null,[{key:"value",value:function(t){return vt.value(t,e)}}]),e}(vt),bt=ft({1:0,b2:1,2:2,"#2":3,b3:3,3:4,b4:4,4:5,"#4":6,b5:6,5:7,"#5":8,b6:8,6:9,bb7:9,b7:10,7:11}),dt=function(t){function e(){return Object(f.a)(this,e),Object(p.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(v.a)(e,null,[{key:"value",value:function(t){return bt.value(t,e)}}]),e}(bt),mt=function(t){function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).intervals;return Object(f.a)(this,e),Object(p.a)(this,Object(b.a)(e).call(this,{intervals:t}))}return Object(d.a)(e,t),Object(v.a)(e,[{key:"notes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new pt;return this._intervals.map(function(e){return t.add(e.value)})}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new pt,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new pt;return this._intervals.find(function(n){return t.add(n).equals(e)})}}]),e}(rt({DEFAULTS:{intervals:[]}})),yt=function(t){function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).definition;return Object(f.a)(this,e),Object(p.a)(this,Object(b.a)(e).call(this,{definition:t}))}return Object(d.a)(e,t),Object(v.a)(e,[{key:"inside",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this._definition(t)[e];return r&&-1!==r.findIndex(function(t){var e=Object(y.a)(t,2),r=e[0],a=e[1];return r<=n&&n<=a})}}],[{key:"inside",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!t.length||-1!==t.findIndex(function(t){var r=t.position;return t.mask.inside(r,e,n)})}}]),e}(rt({DEFAULTS:{definition:function(t){return[]}}})),gt={tuning:[],from:0,to:pt.N},jt=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.tuning,r=t.from,a=t.to;return Object(f.a)(this,e),Object(p.a)(this,Object(b.a)(e).call(this,{tuning:n,from:r,to:a}))}return Object(d.a)(e,t),Object(v.a)(e,[{key:"strings",value:function(t){var e=this,n=t.masks,r=void 0===n?[]:n,a=t.cb,i=void 0===a?function(t){return t}:a;return Object(h.a)(this._tuning).map(function(t,e){return{stringIndex:e,stringNote:t}}).map(function(t){var n=t.stringIndex,a=t.stringNote;return{boxes:Array.from(Array(e.length),function(t,o){return i({note:a.add(pt.value(e._from+o)),inside:yt.inside(r,n,o)})})}})}},{key:"length",get:function(){return this._to-this._from+1}}]),e}(rt({DEFAULTS:gt,validate:function(t){var e=t.from,n=t.to;if(e>n)throw new Error("from (".concat(e,") is geater than to (").concat(n,")"))}})),Ot=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color,r=t.radius,a=t.stroke,i=(a=void 0===a?{}:a).width,o=a.color;return Object(f.a)(this,e),Object(p.a)(this,Object(b.a)(e).call(this,{color:n,radius:r,strokeWidth:i,strokeColor:o}))}return Object(d.a)(e,t),Object(v.a)(e,[{key:"toJSON",value:function(){return{color:this._color,radius:this._radius,stroke:{width:this._strokeWidth,color:this._strokeColor}}}}]),e}(rt({DEFAULTS:{color:"transparent",radius:0,strokeWidth:0,strokeColor:"transparent"}})),kt=function(){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ot;Object(f.a)(this,t);if(n instanceof Ot)e=function(){return n};else{if("function"!==typeof n)throw new Error("First argument is either a Style or a function");e=n}this._styles=Object.fromEntries(function(t){return Object.keys(dt.VALUES).map(function(e){return[e,t(new dt({name:e}))||new Ot]})}(e))}return Object(v.a)(t,[{key:"get",value:function(t){return t instanceof dt?this._styles[t.name]:new Ot}}]),t}(),xt=n(13),wt=n.n(xt),_t={instrument:new jt,duration:"",timeline:[[]]},Et=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.instrument,r=t.duration,a=t.timeline;return Object(f.a)(this,e),Object(p.a)(this,Object(b.a)(e).call(this,{instrument:n,duration:r,timeline:a}))}return Object(d.a)(e,t),Object(v.a)(e,[{key:"iterator",value:wt.a.mark(function t(){return wt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this._states.map(function(t){return{layers:t.layers.map(function(t){return{strings:t.strings}})}}),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:Symbol.iterator,value:function(){return this.iterator()}},{key:"states",value:function(){var t=this;this._states=this._timeline.map(function(e){return{layers:e.map(function(e){var n=e.palette,r=e.scale,a=e.instrumentMasks,i=t._instrument.strings({masks:a,cb:function(a){var i=a.note,o=a.inside;return i=r.get(e.root,i),{empty:!o||!i,style:n.get(o?i:null).toJSON(),mask:e.boxMask,duration:t._duration}}});return Object(m.a)({},e,{strings:i})})}}),Array.from(this._boxIterator()).forEach(function(e){var n=e.stateIndex,r=e.layerIndex,a=e.stringIndex,i=e.boxIndex,o=e.box,s=t._states.length-1,c=function(e){return t._states[function(t){return Math.max(Math.min(t,s),0)}(e)].layers[r].strings[a].boxes[i]},u=o.style.radius,l=c(n-1),h=l.empty,f=l.style.radius,v=c(n+1),p=v.empty,b=v.style.radius,d=h?u:Math.min(u,f),m=p?u:Math.min(u,b);o.mask={shape:o.mask.shape,angle:o.mask.angle,enter:o.mask.enter(d),leave:o.mask.leave(m)}})}},{key:"_boxIterator",value:wt.a.mark(function t(){return wt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this._states.map(function(t,e){return t.layers.map(function(t,n){return t.strings.map(function(t,r){return t.boxes.map(function(t,a){return{stateIndex:e,layerIndex:n,stringIndex:r,boxIndex:a,box:t}}).flat()}).flat()}).flat()}).flat(),"t0",1);case 1:case"end":return t.stop()}},t,this)})}]),e}(rt({DEFAULTS:_t,after:"states"}));Object.entries({BoxMask:ht,Note:pt,Interval:dt,Scale:mt,Instrument:jt,InstrumentMask:yt,Style:Ot,Palette:kt,Lesson:Et}).forEach(function(t){var e=Object(y.a)(t,2),n=e[0],r=e[1];return window[n]=r});var Mt={blue:new kt(new Ot({color:"blue"})),red:new kt(new Ot({color:"red"})),rGreen:new kt(new Ot({color:"green",radius:.5})),sGreen:new kt(new Ot({color:"green",radius:0})),rBlue:new kt(new Ot({color:"blue",radius:.5})),sBlue:new kt(new Ot({color:"blue",radius:0})),squared:new kt(new Ot({color:"green",radius:0})),cool:new kt(function(t){var e=function(t,e){return"hsl(".concat(360*t/7,", ").concat(50+e,"%, ").concat(50+e,"%)")},n=+(t=t.name)[t.length-1],r={};return t.startsWith("bb")?r.color=e(n,-30):t.startsWith("b")?r.color=e(n,-20):t.startsWith("#")?r.color=e(n,20):r.color=e(n,0),["1","b3","3","b5","5","bb7","b7","7"].includes(t),1===+t&&(r.color="white"),new Ot(r)})},St=Object.fromEntries(Object.entries({empty:[],pentam:["1","b3","4","5","b7"],aeolian:["1","2","b3","4","5","b6","b7"],pentaM:["1","2","3","5","6"],ionian:["1","2","3","4","5","6","7"],chromatic:["1","b2","2","b3","3","4","b5","5","b6","6","b7","7"]}).map(function(t){var e=Object(y.a)(t,2),n=e[0],r=e[1];return[n,new mt({intervals:r.map(function(t){return new dt({name:t})})})]})),Tt=Object.fromEntries(Object.entries({brTriangle:{size:1/3,type:"triangle",subtype:"bottomright",transition:"southeast"},fullRect:{size:1,type:"rect",subtype:"top",transition:"southeast"},tlTriangle:{size:1/3,type:"triangle",subtype:"topleft",transition:"southeast"},trTriangle:{size:1/3,type:"triangle",subtype:"topright",transition:"southeast"},diag:{size:1/3,type:"rect",subtype:"diagasc",transition:"southeast"}}).map(function(t){var e=Object(y.a)(t,2),n=e[0],r=e[1];return[n,new ht(r)]})),It=Object.fromEntries(Object.entries({guitarStandard:["E","A","D","G","B","E"]}).map(function(t){var e=Object(y.a)(t,2),n=e[0],r=e[1];return[n,new jt({tuning:r.reverse().map(function(t){return new pt({name:t})})})]})),Bt=[{definition:function(t){return[[[-1/0,t],[t+4,1/0]],[[-1/0,t],[t+4,1/0]],[[-1/0,t],[t+4,1/0]],[[-1/0,t],[t+4,1/0]],[[-1/0,t],[t+4,1/0]],[[-1/0,t],[t+4,1/0]]]}},{definition:function(t){return[[[-1/0,1/0]],[[-1/0,1/0]],[[-1/0,1/0]],[[-1/0,1/0]],[[-1/0,1/0]],[[-1/0,1/0]]]}}].map(function(t){return new yt(t)}),At={position:5,mask:Bt[1]},Ct=new Et({instrument:It.guitarStandard,duration:"2s",timeline:[[{root:"C",boxMask:Tt.tlTriangle,palette:Mt.rGreen,scale:St.chromatic,instrumentMasks:[At]},{root:"C",boxMask:Tt.brTriangle,palette:Mt.sBlue,scale:St.chromatic,instrumentMasks:[At]}],[{root:"C",boxMask:Tt.tlTriangle,palette:Mt.sBlue,scale:St.chromatic,instrumentMasks:[At]},{root:"C",boxMask:Tt.brTriangle,palette:Mt.sGreen,scale:St.chromatic,instrumentMasks:[At]}],[{root:"C",boxMask:Tt.tlTriangle,palette:Mt.rGreen,scale:St.chromatic,instrumentMasks:[At]},{root:"C",boxMask:Tt.brTriangle,palette:Mt.sBlue,scale:St.chromatic,instrumentMasks:[At]}],[{root:"C",boxMask:Tt.tlTriangle,palette:Mt.sBlue,scale:St.empty,instrumentMasks:[At]},{root:"C",boxMask:Tt.brTriangle,palette:Mt.sGreen,scale:St.chromatic,instrumentMasks:[At]}],[{root:"C",boxMask:Tt.tlTriangle,palette:Mt.sGreen,scale:St.chromatic,instrumentMasks:[At]},{root:"C",boxMask:Tt.brTriangle,palette:Mt.sBlue,scale:St.chromatic,instrumentMasks:[At]}],[{root:"C",boxMask:Tt.tlTriangle,palette:Mt.rBlue,scale:St.empty,instrumentMasks:[At]},{root:"C",boxMask:Tt.brTriangle,palette:Mt.sGreen,scale:St.chromatic,instrumentMasks:[At]}],[{root:"C",boxMask:Tt.tlTriangle,palette:Mt.rGreen,scale:St.chromatic,instrumentMasks:[At]},{root:"C",boxMask:Tt.brTriangle,palette:Mt.sBlue,scale:St.chromatic,instrumentMasks:[At]}],[{root:"C",boxMask:Tt.tlTriangle,palette:Mt.rBlue,scale:St.empty,instrumentMasks:[At]},{root:"C",boxMask:Tt.brTriangle,palette:Mt.sGreen,scale:St.chromatic,instrumentMasks:[At]}],[{root:"C",boxMask:Tt.tlTriangle,palette:Mt.rGreen,scale:St.chromatic,instrumentMasks:[At]},{root:"C",boxMask:Tt.brTriangle,palette:Mt.sBlue,scale:St.chromatic,instrumentMasks:[At]}]].map(function(t){return t.map(function(t){return Object(m.a)({},t,{root:new pt({name:t.root})})})})});window.lesson=Ct,Object.entries({palettes:Mt,scales:St,instruments:It,boxMasks:Tt,instrumentMasks:Bt,lesson:Ct}).forEach(function(t){var e=Object(y.a)(t,2),n=e[0],r=e[1];return console.log(n,r)});var Pt=function(t){function e(t){var n;return Object(f.a)(this,e),(n=Object(p.a)(this,Object(b.a)(e).call(this,t))).iterator=Ct.iterator(),n.state=n.getState(),n}return Object(d.a)(e,t),Object(v.a)(e,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"update",value:function(){var t=this,e=this.getState();e&&(this.timer=setTimeout(function(){return t.setState(e)},2500))}},{key:"getState",value:function(){var t=this.iterator.next();return t.done?null:t.value}},{key:"render",value:function(){return console.log("state",this.state),a.a.createElement(Z,{layers:this.state.layers})}}]),e}(r.Component);setTimeout(function(){o.a.render(a.a.createElement(Pt,null),document.getElementById("root")),c()},50)}],[[22,1,2]]]);
//# sourceMappingURL=main.da3e0030.chunk.js.map