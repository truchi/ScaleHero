{"version":3,"sources":["components/Instrument/styles.module.scss","registerServiceWorker.js","polyfills.js","components/Player/index.js","lib/grid/index.js","components/Instrument/index.js","lib/utils/denormalize/index.js","lib/mask/index.js","lib/music/base.js","lib/music/Note.js","lib/music/Interval.js","lib/music/Scale.js","components/InstrumentList/toArray.js","components/InstrumentList/index.js","lib/utils/cleanNilsRecurs.js","store/reducer.js","lib/clip/index.js","lib/textures/index.js","store/data.js","lib/grid/utils/Tree.js","lib/grid/utils/flatten.js","lib/grid/utils/time.js","lib/grid/utils/merge.js","store/itworks.js","store/index.js","lib/grid/utils/reduce.js","components/App.js","index.js"],"names":["module","exports","guitar","piano","open","boxes","layer","string","box","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","fromEntries","reduce","o","_ref","_ref2","Object","slicedToArray","key","val","merge","defineProperty","__D","_len","arguments","length","args","Array","_key","arg","_console","apply","concat","connect","bpm","grid","timelines","setState","payload","type","src","states","$audio","useRef","$volume","_useState","useState","_useState2","index","setIndex","_useState3","_useState4","isLooping","setLooping","_useState5","_useState6","isPlaying","setPlaying","_useState7","_useState8","volume","setVolume","set","loop","useCallback","unloop","play","current","pause","restart","currentTime","stop","vol","undefined","value","useEffect","step","id","_states$index","next","time","duration","audio","requestAnimationFrame","cancelAnimationFrame","react_default","a","createElement","Fragment","ref","onClick","min","max","onChange","Instrument","layers","className","styles","join","map","strings","_ref2$clips","clips","_ref2$style","style","clipPath","objectSpread","denormalizeValue","data","is","denormalizeArray","denormalizeObject","m","compose","fn","mapObjIndexed","insidePairs","i","any","and","zipWith","call","gte","lte","insidePair","inside","j","mask","_ref$offsetI","offsetI","_ref$offsetJ","offsetJ","defaultTo","prop","lib_mask","ifElse","T","base","VALUES","NAMES","invertObj","name","mathMod","add","curry","uncurryN","v","plus","Note","Cb","C","C#","Db","D","D#","Eb","E","E#","Fb","F","F#","Gb","G","G#","Ab","A","A#","Bb","B","B#","Interval","1","b2","2","#2","b3","3","b4","4","#4","b5","5","#5","b6","6","bb7","b7","7","Scale","root","note","find","equals","__","toArray","tuning","from","to","frets","range","masking","palette","scale","addIndex","fret","Mask","reverse","c","objOf","instrument","_ref3","denormalize","clip","instruments","assign","cleanNilsRecurs","when","pipe","reject","isNil","_","assocPathReduce","path","assocPath","cleanNilsReduce","over","lensPath","reducers","s","topLeft","topRight","bottomLeft","bottomRight","top","bottom","left","right","oTop","oBottom","oLeft","oRight","Rectangle","vertical","horizontal","Diagonal","asc","desc","Triangle","h","Diamond","diamond","toString","poly","pt","mergeObj","mergeAll","values","evolve","ap","DOM","tag","attrs","children","classCallCheck","this","child","push","entries","props","d","t","_ref4","textures","lib_textures","_ref5","_ref5$opacity","opacity","objectWithoutProperties","texture","width","height","viewBox","xmlns","encodeURI","intervals","palettes","ind","backgroundImage","Textures","stroke","fill","lighter","thicker","backgroundColor","borderRadius","borderColor","borderStyle","borderWidth","Clip","before","after","get","acc","tree","indexes","reducer","r","append","depths","fconcat","flip","fmerge","index2obj","section","line","bar","item","flatten","head","x","adjust","repeat","count","items","arr","unnest","times","n","repeatSection","last","init","bars","lines","sections","flat","getMin","Infinity","until","all","isEmpty","merged","timeds","timed","converge","at","tail","splitTimed","esm_toArray","slice","applySpec","str","toConsumableArray","chord","keys","events","_ref6","masks","w","k","exl","itWorks","scan","_ref$merged","initial","tunings","scales","store","createStore","identity","__REDUX_DEVTOOLS_EXTENSION__","getState","ReactDOM","render","es","Player","InstrumentList","document","getElementById","URL","process","origin","addEventListener","fetch","response","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.f7756a92.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"guitar\":\"styles_guitar__2tpMb\",\"piano\":\"styles_piano__3g1wm\",\"open\":\"styles_open__2YvvH\",\"boxes\":\"styles_boxes__1kIun\",\"layer\":\"styles_layer__1qXk6\",\"string\":\"styles_string__16y2r\",\"box\":\"styles_box__1LYaj\"};","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {\n  merge,\n  reduce,\n} from 'ramda'\n\n//** Logs scoped arguments and own argument and returns own argument\n//:: (...args) -> arg -> arg\nconst debug =\n  (...args) =>\n    arg =>\n      console.log(...args, arg) || arg\n\n// Retuns an object from entries ([[key, val], ...])\n//:: Array entries -> Object o\nconst fromEntries =\n  reduce(\n    (o, [key, val]) =>\n      merge(o, { [key]: val }),\n    {}\n  )\n\n//--\n//   Patches\n//--\nObject.fromEntries = fromEntries\nwindow.__D = debug\n","import React, {\n  useRef,\n  useCallback,\n  useEffect,\n  useState,\n} from 'react'\nimport { connect } from 'react-redux'\n/* import styles      from './styles.module.scss' */\n\nexport default connect(\n  null,\n  {\n    setState: (payload) => ({ type: 'state', payload }),\n  }\n)(\n  ({ src, states, setState }) => {\n    const $audio                  = useRef()\n    const $volume                 = useRef()\n    const [index    , setIndex  ] = useState(0)\n    const [isLooping, setLooping] = useState(true)\n    const [isPlaying, setPlaying] = useState(false)\n    const [volume   , setVolume ] = useState(1)\n    const length                  = states.length\n\n    const set = (index) => ((setIndex(index), setState(states[index].state)))\n\n    const loop    = useCallback(() => setLooping(true ))\n    const unloop  = useCallback(() => setLooping(false))\n    const play    = useCallback(() => (($audio.current.play ()        , setPlaying(true ))))\n    const pause   = useCallback(() => (($audio.current.pause()        , setPlaying(false))))\n    const restart = useCallback(() => (($audio.current.currentTime = 0, set(1)           )))\n    const stop    = useCallback(() => (($audio.current.pause(),\n                                        $audio.current.currentTime = 0,\n                                        setPlaying(false),\n                                        set(0)\n                                      )))\n    const vol     = useCallback(() =>\n      ((volume = $volume.current.value) => (($audio.current.volume = volume, setVolume(volume))))())\n\n    useEffect(() => {\n      if (!isPlaying) return\n      play()\n\n      let step, id\n      const { time, duration } = states[index]\n      const next               = time + duration\n      const audio              = $audio.current\n\n      id = requestAnimationFrame(\n        step = () =>\n          audio.currentTime < next\n            ? id = requestAnimationFrame(step)\n            : index < length - 1\n              ? set(index + 1)\n              : isLooping\n                ? restart()\n                : stop()\n      )\n\n      return () => cancelAnimationFrame(id)\n    })\n\n    return (\n      <>\n        <audio src={ src } ref={ $audio } />\n        { isPlaying ? (\n          <button onClick={ pause }>Pause</button>\n        ) : (\n          <button onClick={ play }>Play</button>\n        )}\n        { index !== 0 && (\n          <>\n            <button onClick={ stop }>Stop</button>\n            <button onClick={ restart }>Restart</button>\n          </>\n        )}\n        <br />\n        { isLooping ? (\n          <button onClick={ unloop }>Unloop</button>\n        ) : (\n          <button onClick={ loop }>Loop</button>\n        )}\n        <br />\n        <input type=\"range\" min=\"0\" max=\"1\" step=\"0.01\" value={ volume } onChange={ vol } ref={ $volume }/>\n      </>\n    )\n  }\n)\n","import flatten    from './utils/flatten'\nimport time       from './utils/time'\nimport merge      from './utils/merge'\nimport reduce     from './utils/reduce'\nimport {\n  compose as c,\n  map,\n} from 'ramda'\n\nexport default\n  (bpm, grid, timelines, state) =>\n    c(\n      reduce(bpm, state),\n      merge,\n      map(c(time, flatten))\n    )([grid, ...timelines])\n","import React  from 'react'\nimport styles from './styles.module.scss'\n\nexport const GUITAR = 'guitar'\nexport const PIANO  = 'piano'\n\nexport default\n  ({ type, open, layers }) => (\n    <instrument className={ [styles[type], open ? styles.open : ''].join(' ') }>\n\n      { layers.map((strings, key) => (\n        <layer className={ styles.layer } key={ key }>\n\n          { strings.map((boxes, key) => (\n            <string className={ styles.string } key={ key }>\n\n              { boxes.map(({ clips = [null], style = {} } = {}, key) => (\n                <boxes className={ styles.boxes } key={ key }>\n\n                  { clips.map((clipPath, key) => (\n                    <box\n                      key      ={ key }\n                      className={ styles.box }\n                      style    ={{ clipPath, ...style }}\n                    />\n                  )) }\n\n                </boxes>\n              )) }\n\n            </string>\n          )) }\n\n        </layer>\n      )) }\n\n    </instrument>\n  )\n","import {\n  compose,\n  is,\n  map,\n  mapObjIndexed,\n} from 'ramda'\n\nconst mapObj = fn => mapObjIndexed((value, key) => fn(key)(value))\n\nconst denormalizeValue =\n  (data, map) =>\n    (key) =>\n      (value) =>\n        is(Array , value)          ? denormalizeArray (data, map)(key)(value)\n      : is(Object, value)          ? denormalizeObject(data, map)(value)\n      : map[key] && data[map[key]] ? data[map[key]][value]\n      : data[key]                  ? data[key][value]\n                                   : value\n\nconst denormalizeArray =\n  (data, m) =>\n    compose(map, denormalizeValue(data, m))\n\nconst denormalizeObject =\n  (data, map = {}) =>\n    mapObj(denormalizeValue(data, map))\n\nexport default denormalizeObject\n","import {\n  T,\n  and,\n  any,\n  apply,\n  call,\n  compose,\n  defaultTo,\n  gte,\n  length,\n  lte,\n  prop,\n  ifElse,\n  zipWith,\n} from 'ramda'\n\n//--\n//   A pair is an Array Number\n//   A mask is an Array Array Pair, with\n//\n//   Specifically, it is a collection of [lower, upper] pair list\n//\n//   A number is inside a pair\n//   if it satisfies:\n//   lower <= number <= upper\n//\n//   A number is inside a pair list\n//   if it is inside at least one of the pairs\n\n//   A pair of numbers (i, j) are inside the mask\n//   if j is inside the ith pair list\n//\n//   +/-Infinity are valid bounds\n//\n//   @example [\n//     [[-Infinity, Infinity]],\n//     [[1, 3], [7, 9], [13, 15]]\n//   ]\n//--\n\n//** Returns wether i is in pair\n//:: Number i, Pair pair -> Boolean inside\nconst insidePair =\n  i =>\n    compose(\n      apply(and),  // both\n      zipWith(\n        call,\n        [\n          gte(i),  // i >= lower bound\n          lte(i)   // i <= upper bound\n        ]\n      )\n    )\n\n//** Returns wether i is in at least one of the pairs\n//:: Number i -> Array Pair pairs -> Boolean inside\nconst insidePairs =\n  i =>\n    any(insidePair(i))\n\n//** Returns wether j is in mask's ith pair list\n//:: Number i, Number j, Mask mask -> Boolean inside\nconst inside =\n  i =>\n    j =>\n      ({ mask, offsetI = 0, offsetJ = 0 }) =>\n        compose(insidePairs(j - offsetJ), defaultTo([]), prop(i - offsetI))(mask)\n\n//** Returns wether j is in any masks's ith pair list\n//:: Number i -> Number j -> Array masks -> Boolean inside\nconst insideAny =\n  i =>\n    j =>\n      compose(ifElse(length, any(inside(i)(j)), T), defaultTo([]))\n\nexport default {\n  inside,\n  insideAny,\n}\n","import {\n  add as plus,\n  compose,\n  curry,\n  invertObj,\n  mathMod,\n  uncurryN,\n} from 'ramda'\n\n//--\n//   Mixin for Note and Interval\n//\n//   @see ./Note.js, ./Interval.js\n//--\n\n//** Number of notes in octave\n//:: Number\nconst N = 12\n\nexport default VALUES => {\n  //** Name to value mapping\n  //:: Object Number\n  // VALUES\n\n  //** Value to name mapping\n  //   (last name found in VALUES for value is prefered)\n  //:: Array String\n  const NAMES = invertObj(VALUES)\n\n  //** Returns name of value\n  //:: Number value -> String name\n  const name =\n    value =>\n      NAMES[mathMod(value, N)]\n\n  //** Returns value of name\n  //:: String name -> Number value\n  const value =\n    name =>\n      VALUES[name]\n\n  //** Returns name of name + value\n  //:: Number value -> String name -> String newName\n  const add = curry(uncurryN(2,\n    v =>\n      compose(\n        name,    // get name of\n        plus(v), // value plus\n        value    // name's value\n      )\n  ))\n\n  return {\n    VALUES,\n    NAMES,\n    name,\n    value,\n    add,\n  }\n}\n\n","import base from './base'\n\n//--\n//   A note is a String denoting its name\n//   in the form: A|B|C|D|E|F|G[b|#]\n//\n//   Its value is the corresponding number\n//   of semitone(s) for name\n//\n//   @examples 'C', 'G#', 'Bb'\n//\n//   @see ./base.js\n//--\n\nconst Note = base({\n  'Cb': 11, 'C':  0, 'C#':  1,\n  'Db':  1, 'D':  2, 'D#':  3,\n  'Eb':  3, 'E':  4, 'E#':  5,\n  'Fb':  4, 'F':  5, 'F#':  6,\n  'Gb':  6, 'G':  7, 'G#':  8,\n  'Ab':  8, 'A':  9, 'A#': 10,\n  'Bb': 10, 'B': 11, 'B#':  0,\n})\n\nexport default Note\n","import base from './base'\n\n//--\n//   An interval is a String denoting its name\n//   in the form: 1|2|3|4|5|6|7[bb|b|#]\n//\n//   Its value is the corresponding number\n//   of semitone(s) for name\n//\n//   @examples '1', '#2', 'bb7'\n//\n//   @see ./base.js\n//--\n\nconst Interval = base({\n                      '1':  0,\n            'b2':  1, '2':  2, '#2': 3,\n            'b3':  3, '3':  4,\n            'b4':  4, '4':  5, '#4': 6,\n            'b5':  6, '5':  7, '#5': 8,\n            'b6':  8, '6':  9,\n  'bb7': 9, 'b7': 10, '7': 11,\n})\n\nexport default Interval\n","import Note     from './Note'\nimport Interval from './Interval'\nimport {\n  __,\n  compose,\n  equals,\n  find,\n  map,\n} from 'ramda'\n\n//--\n//   A scale is an Array Interval\n//\n//   @example ['1', '2', 'b3', '4', '5', 'b6', 'b7']\n//\n//   @see ./Interval.js\n//--\n\n//** Returns notes of intervals to root\n//:: String root -> Array String intervals -> Array String notes\nconst notes =\n  root =>\n    map(                    // for each interval\n      compose(\n        Note.add(__, root), // add to root the\n        Interval.value      // interval's value\n      )\n    )\n\n//** Returns interval from intervals which gives note to root\n//   or undefined when note is not in scale with root\n//:: String root -> String note -> Scale scale -> String? interval\nconst getInterval =\n  root =>\n    note =>\n      find(                         // first scale's interval where\n        compose(\n          equals(Note.value(note)), // note's value equals\n          Note.value,               // value of\n          Note.add(__, root),       // root plus\n          Interval.value            // interval's value\n        )\n      )\n\nexport default {\n  notes,\n  getInterval,\n}\n","import denormalize from '../../lib/utils/denormalize'\nimport { GUITAR }  from '../Instrument'\nimport Mask        from '../../lib/mask'\nimport {\n  Note,\n  Scale,\n} from '../../lib/music'\nimport {\n  addIndex,\n  compose as c,\n  map,\n  range,\n  reverse,\n} from 'ramda'\n\nconst toArray =\n  ({ tuning, from, to, layers }) =>\n    ((frets = range(from, to + 1)) =>\n      map(\n        ({ clips, masking, palette, root, scale }) =>\n          addIndex(map)(\n            (open, string) =>\n              map(\n                (fret) =>\n                  Mask.insideAny(string)(from + fret)(masking)\n                    ? ((note = Note.add(fret)(open)) => ({\n                        clips,\n                        style: palette[Scale.getInterval(root)(note)(scale)]\n                      }))()\n                    : {},\n                frets\n              ),\n            reverse(tuning)\n          ),\n        layers\n      )\n    )()\n\nexport default\n  (state) =>\n    (instrument) =>\n      (({ type, from } = instrument) =>\n        ({\n          type,\n          open  : type === GUITAR && from === 0,\n          layers: c(\n            toArray,\n            denormalize(state, {\n              tuning : 'tunings',\n              clip   : 'clips',\n              mask   : 'masks',\n              palette: 'palettes',\n              scale  : 'scales',\n            })\n          )(instrument)\n        })\n      )()\n","import React       from 'react'\nimport { connect } from 'react-redux'\nimport Instrument  from '../Instrument'\nimport toArray from './toArray'\n// import styles from './styles.module.scss'\nimport {\n  compose as c,\n  map,\n  objOf,\n  prop,\n} from 'ramda'\n\nexport default connect(\n  (state) =>\n    c(\n      objOf('instruments'),\n      map(toArray(state)),\n      prop('state'),\n    )(state)\n)(\n  ({ instruments }) => (\n    <>\n      { instruments.map((instrument, key) =>\n        <Instrument key={ key } { ...instrument } />\n      )}\n    </>\n  )\n)\n","import {\n  is,\n  isNil,\n  map,\n  pipe,\n  reject,\n  when,\n} from 'ramda'\n\n//** Removes nulls and undefineds recursively on object o\n//:: Object o -> Object o\nconst cleanNilsRecurs =\n  when(                      // when\n    is(Object),              // value is object\n    pipe(\n      reject(isNil),         // remove nulls and undefineds\n      map(_ => cleanNilsRecurs(_)) // and recurse on children\n    )\n  )\n\nexport default cleanNilsRecurs\n","import { cleanNilsRecurs } from '../lib/utils'\nimport {\n  __,\n  assocPath,\n  compose,\n  curry,\n  defaultTo,\n  identity,\n  lensPath,\n  over,\n  reduce,\n  uncurryN,\n} from 'ramda'\n\n//--\n//   Utils\n//--\n\n//** Returns state with actions applied\n//:: Object state -> Array actions -> Object state\nconst assocPathReduce =\n  reduce(\n    (state, { path, value }) =>\n      assocPath(path, value, state)\n  )\n\n//** Returns state with paths (recursively) clean of nils\n//:: Object state -> Array paths -> Object state\nconst cleanNilsReduce =\n  reduce(\n    (state, path) =>\n      over(lensPath(path), cleanNilsRecurs, state)\n  )\n\n//--\n//   Reducers\n//--\n\n//** Reducers keyed by action type\n//:: Object String actionType Function reducer\nconst reducers = {\n  //** Applies actions and clean arrays\n  //:: Object state -> Array actions -> Object state\n  state: (s, state) => ({ ...s, state }),\n  next: curry(uncurryN(2,\n    state =>\n      compose(\n        cleanNilsReduce(__, [['tuning'], ['layers']]),\n        assocPathReduce(state)\n      )\n  )),\n}\n\n//** Reduces state with action\n//:: (Object state, Object action) -> Object state\nexport default\n  (state, { type, payload }) =>\n    // defaultTo(identity, reducers[type])(state, payload)\n    // console.log('reducing', type, payload, state) ||\n    compose(\n      // window.__D('-> state'),\n      // _ => console.log('reduced', _) || _,\n      defaultTo(identity, reducers[type]),\n    )(state, payload)\n","import {\n  ap,\n  compose,\n  map,\n  mergeAll,\n  values,\n} from 'ramda'\n\nconst topLeft     = s => [0, 0]              // Top    left  point\nconst topRight    = s => [1, 0]              // Top    right point\nconst bottomLeft  = s => [0, 1]              // Bottom left  point\nconst bottomRight = s => [1, 1]              // Bottom right point\nconst top         = s => [s, 0]              // Top    border\nconst bottom      = s => [s, 1]              // Bottom border\nconst left        = s => [0, s]              // Left   border\nconst right       = s => [1, s]              // Right  border\nconst oTop        = s => top   (1 - s)       // Top    border (from right )\nconst oBottom     = s => bottom(1 - s)       // Bottom border (from right )\nconst oLeft       = s => left  (1 - s)       // Left   border (from bottom)\nconst oRight      = s => right (1 - s)       // Right  border (from bottom)\nconst rTop        = s => top   ((1 + s) / 2) // Top    border (right  of center)\nconst rBottom     = s => bottom((1 + s) / 2) // Bottom border (right  of center)\nconst bLeft       = s => left  ((1 + s) / 2) // Left   border (bottom of center)\nconst bRight      = s => right ((1 + s) / 2) // Right  border (bottom of center)\nconst lTop        = s => top   ((1 - s) / 2) // Top    border (left   of center)\nconst lBottom     = s => bottom((1 - s) / 2) // Bottom border (left   of center)\nconst tLeft       = s => left  ((1 - s) / 2) // Left   border (top    of center)\nconst tRight      = s => right ((1 - s) / 2) // Right  border (top    of center)\n\nconst Rectangle = {\n  top       : [ topLeft    ,  topRight   ,  right   ,  left  ],\n  bottom    : [ bottomRight,  bottomLeft , oLeft    , oRight ],\n  left      : [ topLeft    ,  bottomLeft ,  bottom  ,  top   ],\n  right     : [ topRight   ,  bottomRight, oBottom  , oTop   ],\n  vertical  : [rTop        , rBottom     , lBottom  , lTop   ],\n  horizontal: [tLeft       , tRight      , bRight   , bLeft  ],\n}\n\nconst Diagonal = {\n  asc : [topRight, right ,  bottom, bottomLeft , oLeft  , oTop ],\n  desc: [topLeft , top   , oRight , bottomRight, oBottom,  left],\n}\n\nconst Triangle = {\n  topLeft    : [topLeft    ,  top   , left  ],\n  topRight   : [topRight   , oTop   , right ],\n  bottomLeft : [bottomLeft , oBottom, oLeft ],\n  bottomRight: [bottomRight,  bottom, oRight],\n}\n\nconst v  = s => [1/2, s  ] // Vertical\nconst h  = s => [s  , 1/2] // Horizontal\nconst d1 = s => v(s - 1/2) // Diamond point 1\nconst d2 = s => h(3/2 - s) // Diamond point 2\nconst d3 = s => v(3/2 - s) // Diamond point 3\nconst d4 = s => h(s - 1/2) // Diamond point 4\nconst Diamond = {\n  diamond: [d1, d2, d3, d4],\n}\n\nconst toString = poly =>\n  'polygon('\n  + poly.map(pt => pt.map(c => c * 100 + '%').join(' ')).join(',')\n  + ')'\nconst mergeObj = compose(mergeAll, values)\nconst evolve   = map(_ => compose(toString, ap(_), _ => [_]))\n\nexport default compose(evolve, mergeObj)({\n  Rectangle,\n  Diagonal,\n  Triangle,\n  Diamond,\n})\n","import textures from 'textures'\n\nconst xmlns = 'http://www.w3.org/2000/svg'\n\nclass DOM {\n  constructor(tag = '', attrs = {}, children = []) {\n    this.tag      = tag\n    this.attrs    = attrs\n    this.children = children\n  }\n\n  append(tag) {\n    const child = new DOM(tag)\n    this.children.push(child)\n\n    return child\n  }\n\n  attr(key, value) {\n    this.attrs[key] = value\n\n    return this\n  }\n\n  map(fn) {\n    return fn(this.tag, this.attrs, this.children.map(child => child.map(fn)))\n  }\n\n  toString() {\n    return this.map(\n      (tag, attrs, children) => {\n        attrs = Object.entries(attrs)\n          .map(([name, value]) => `${ name }=\"${ value }\"`)\n          .join(' ')\n        attrs    = attrs ? ' ' + attrs : ''\n        children = children.join('')\n\n        return `<${ tag }${ attrs }>${ children }</${ tag }>`\n      }\n    )\n  }\n\n  static textures(id, type, props) {\n    let d = new DOM()\n\n    Object.entries(props).reduce(\n      (t, [name, value]) =>\n        t[name] && typeof t[name] === 'function'\n          ? t[name](value)\n          : t,\n      textures[type]()\n    )(d)\n\n    d = d.children[0]\n\n    if (id != null)\n      d.children[0].attrs.id = id\n\n    return d\n  }\n}\n\nexport default ({ id, type, opacity = 1, ...props }) => {\n  const texture = DOM\n    .textures(id, type, props)\n    .children[0]\n\n  const width   = texture.attrs.width\n  const height  = texture.attrs.height\n  const viewBox = `0 0 ${ width } ${ height }`\n  const toUrl   = t => `url(\"data:image/svg+xml,${ encodeURI(t.toString()) }\")`\n\n  return toUrl(\n    new DOM(\n      'svg',\n      { width, height, viewBox, xmlns, opacity },\n      texture.children\n    )\n  )\n}\n","import Clip     from '../lib/clip'\nimport Textures from '../lib/textures'\n// import src      from '../assets/backtrack.ogg'\n\nconst src = 'http://www.universal-soundbank.com/sounds/7306.mp3'\n\nexport const bpm = 200\n\nexport { src }\n\nexport const grid = {\n  repeat: true,\n  count: 2,\n  sections: [\n    {\n      repeat: true,\n      count: 2,\n      lines: [\n        {\n          bars: [\n            // { repeat: true          , items: [{ duration: 1, chord: 'A' }, { duration: 1, chord: 'B' }] },\n            // {                         items: [{ duration: 1, chord: 'A' }, { duration: 3, chord: 'B' }] },\n            { repeat: true, count: 2, items: [{ duration: 1, chord: 'C' }] },\n            // {               count: 2, items: [{ duration: 1, chord: 'D' }] },\n            // {                         items: [{ duration: 1, chord: 'D' }] },\n          ]\n        },\n      ]\n    },\n  ]\n}\n\nexport const timelines = [\n  {\n    repeat: true,\n    count: 2,\n    sections: [\n      {\n        repeat: true,\n        count: 2,\n        lines: [\n          {\n            bars: [\n              { items: [{ duration: 1, events: [{ path: [0, 'layers', 1, 'root'], value: 'D' }] }] },\n              { items: [{ duration: 1, events: [{ path: [0, 'layers', 1, 'root'], value: 'E' }] }] },\n            ]\n          },\n        ]\n      },\n    ]\n  }\n]\n\nexport const state = [\n  {\n    type: 'guitar',\n    tuning: 1,\n    // type: 'piano',\n    // tuning: 0,\n    from  : 0,\n    to    : 12,\n    layers: [\n      {\n        palette: 1,\n        root   : 'C',\n        scale  : 2,\n      },\n      {\n        clips  : [0, 1, 2, 3],\n        masking: [{ mask: 0, offsetI: 0, offsetJ: 0 }],\n        palette: 0,\n        root   : 'C',\n        scale  : 2,\n      },\n      {\n        clips  : [4],\n        // masks  : [0],\n        palette: 0,\n        root   : 'C',\n        scale  : 0,\n      },\n    ],\n  },\n]\n\nconst intervals = [\n  '1', 'b2', '2', '#2', 'b3', '3', 'b4', '4',\n  '#4', 'b5', '5', '#5', 'b6', '6', 'bb7', 'b7', '7'\n]\n\nexport const tunings = [\n  ['C'],\n  ['E', 'A', 'D', 'G', 'B', 'E'],\n]\n\nexport const palettes = [\n  Object.fromEntries(\n    intervals.map(\n      (i, ind) =>\n        [i, {\n          backgroundImage: Textures({\n            type: ['lines', 'circles', 'paths'][ind % 3],\n            d: 'crosses',\n            stroke: `hsl(${ 360 * (ind + intervals.length / 2) / intervals.length }, 100%, 50%)`,\n            fill  : `hsl(${ 360 * (ind + intervals.length / 2) / intervals.length }, 100%, 50%)`,\n            lighter: true,\n            thicker: true,\n            opacity: .6,\n          }),\n          backgroundColor: `hsl(${ 360 * ind / intervals.length }, 50%, 50%)`,\n          borderRadius: ind % 3 === 0 ? '25%' : 0,\n          borderColor: '#EEE',\n          borderStyle: 'solid',\n          borderWidth: '1px',\n        }]\n    )\n  ),\n  Object.fromEntries(\n    intervals.map(i => [i, { backgroundColor: '#111', borderRadius: '25%' }])\n  ),\n]\n\nexport const scales = [\n  ['1', '2', '3', '4', '5', '6', '7'],\n  ['1', '2', 'b3', '4', '5', 'b6', 'b7'],\n  ['1', 'b2', '2', 'b3', '3', '4', '#4', '5', 'b6', '6', 'b7', '7'],\n]\n\nexport const clips = [\n  Clip.topLeft    (.5),\n  Clip.topRight   (.5),\n  Clip.bottomLeft (.5),\n  Clip.bottomRight(.5),\n  Clip.diamond    (.5),\n]\n\nexport const masks = [\n  [\n    [[-Infinity, 8], [8, Infinity]],\n    [[-Infinity, 8], [8, Infinity]],\n    [[-Infinity, 8], [8, Infinity]],\n    [[-Infinity, 8], [8, Infinity]],\n    [[-Infinity, 8], [8, Infinity]],\n    [[-Infinity, 8], [8, Infinity]],\n  ]\n]\n","// @flow\nimport type {\n  Accumulator,\n  Reducer,\n  Updater,\n  Getter,\n  Setter,\n} from './Tree.types'\nimport {\n  addIndex,\n  adjust,\n  append,\n  compose as c,\n  path,\n  reduce as r,\n  splitAt,\n  when,\n} from 'ramda'\n\n/**\n * Reduces a tree recursively to its children,\n * applying at each level a callback before and after the reducer,\n * traversing top to bottom, left to right\n * @kind Reducer before, Reducer after, Getter get ->\n *         Accumulator acc, Tree tree, ?number[] indexes ->\n *           Accumulator acc\n */\nexport const reduce: (Reducer, Reducer, Getter) => Reducer =\n  (\n    before: Reducer, // A function to call before the reducer\n    after : Reducer, // A function to call after  the reducer\n    get   : Getter,  // A function getting the children\n  ): Reducer =>\n    (\n      acc    : Accumulator,   // The initial (or current) accumulator\n      tree   : Tree,          // The initial (or current) tree to reduce\n      indexes: ?number[] = [] // The initial (or current) indexes\n    ): Accumulator =>\n      ((\n        children: Tree[],      // tree's children\n        acc     : Accumulator, // accumulator after applying before function\n        reducer : Reducer,     // recursive reducer\n      ): Accumulator =>\n        ((\n          acc: Accumulator // accumulator after reduce\n        ): Accumulator =>\n          // Apply after function\n          after(acc, tree, indexes)\n        )(\n          children\n            // reduce trees (recursively)\n            ? addIndex(r)(\n              (acc, tree, i) =>\n                // Append current index to indexes\n                reducer(acc, tree, append(i, indexes)),\n              acc,\n              children\n            )\n            // nothing to reduce\n            : acc\n        )\n      )(\n        get(tree, indexes),         // retrieving children\n        before(acc, tree, indexes), // applying before on\n        reduce(before, after, get)  // initialyzing reducer\n      )\n\n/**\n * Updates a tree recursively to its children,\n * applying at each level a callback before and after the setter of the children,\n * traversing top to bottom, left to right\n * @kind Updater before, Updater after, Getter get, Setter set, Tree tree ->\n *         Tree tree\n */\nexport const update: (Updater, Updater, Getter, Setter, Tree) => Updater =\n  (\n    before: Updater, // A function to call before\n    after : Updater, // A function to call after\n    get   : Getter,  // A function getting the children\n    set   : Setter,  // A function setting children\n  ): ((Tree) => Updater) =>\n    (\n      tree: Tree, // The tree to update\n    ): Updater =>\n      c(\n        path([0, 0]), // after reduce, stack is [[tree]]\n        reduce(\n          // Before\n          // Push current item (previous's child) into last's acc (current's parent)\n          (\n            acc    : Tree[][], // stack of children\n            tree   : Tree,     // current item\n            indexes: number[], // indexes\n          ): Tree[][] =>\n            ((\n              tree: Tree, // updated current item\n            ): Tree[][] =>\n              c(\n                append([]),              // append new array for current's children\n                adjust(-1, append(tree)) // append current into last's acc\n              )(acc)\n            )(before(tree, indexes)), // call before with current item\n\n          // After\n          // Push acc's last (current's children)\n          // into last's (current item) acc's second to last (children of current's parent)\n          (\n            acc    : Tree[][], // stack of children\n            tree   : Tree,     // current item\n            indexes: number[], // indexes\n          ): Tree[][] =>\n            ((\n              [\n                acc: Tree[], // stack before current\n                [\n                  children: Tree[], // current's children\n                ]\n              ]\n            ): Tree[] =>\n              adjust(   // adjust\n                -1,     // parent's children\n                adjust( // adjust\n                  -1,   // current\n                  c(\n                    _ => after(_, indexes),          // call after with current item\n                    when(\n                      _ => children.length,          // when children\n                      _ => set(_, children, indexes) // set current's children\n                    )\n                  )\n                )\n              )(acc)\n            )(splitAt(-1, acc)), // split at last children\n\n          // Get\n          get\n        )\n      )(\n        [[]], // empty stack\n        tree  // tree to update\n      )\n\nexport default {\n  reduce,\n  update,\n}\n","import { reduce } from './Tree'\nimport {\n  adjust,\n  append,\n  compose as c,\n  concat,\n  evolve,\n  flip,\n  head,\n  identity as id,\n  init,\n  last,\n  map,\n  merge as m,\n  times,\n  unnest,\n} from 'ramda'\n\nconst depths  = ['grid', 'section', 'line', 'bar', 'item']\nconst is      = x => i => depths[i.length] === x\nconst fconcat = flip(concat)\nconst fmerge  = flip(m)\n\nconst index2obj = ([section, line, bar, item]) =>\n  c(\n    item    !== undefined ? fmerge({ item   : { i: item    } }) : id,\n    bar     !== undefined ? fmerge({ bar    : { i: bar     } }) : id,\n    line    !== undefined ? fmerge({ line   : { i: line    } }) : id,\n    section !== undefined ? fmerge({ section: { i: section } }) : id,\n  )({ grid: { i: 1 } })\nconst setIndex      = index => fmerge({ index: index2obj(index) })\nconst repeatSection =\n  (arr, count, key) =>\n    c(\n      unnest,\n      times(\n        n =>\n          ((repeat = n + 1) =>\n            map(evolve({ index: { [key]: m({ repeat, count }) } }))(arr)\n          )()\n      )\n    )(count)\n\nexport default\n  (grid) =>\n    c(\n      head,\n      reduce(\n        // Before\n        (acc, item, i) =>\n          c(\n            is('item')(i) ? adjust(-1, append(setIndex(i)(item))) : id,\n            item.repeat   ? append([])                            : id,\n          )(acc),\n        // After\n        (acc, { count }, i) => (\n          count\n            ? ((items = repeatSection(last(acc), count, depths[i.length])) =>\n                c(adjust(-1, fconcat(items)), init)\n              )()\n            : id\n        )(acc),\n        // Get\n        i =>\n          i.items || i.bars || i.lines || i.sections\n      )\n    )([[]], grid)\n","import {\n  append,\n  compose as c,\n  merge,\n  prop,\n  reduce,\n} from 'ramda'\n\nexport default\n  c(\n    prop('flat'),\n    reduce(\n      ({ time, flat }, item) =>\n        ({\n          time: time + item.duration,\n          flat: append(merge({ time }, item), flat)\n        }),\n      { time: 0, flat: [] },\n    )\n  )\n","import {\n  adjust,\n  all,\n  append,\n  applySpec,\n  compose as c,\n  concat,\n  converge,\n  evolve,\n  head,\n  isEmpty,\n  map,\n  merge,\n  min,\n  prop,\n  reduce,\n  tail,\n  until,\n} from 'ramda'\n\nconst splitItem =\n  (at) =>\n    (item) =>\n      (({ duration, time } = item) =>\n        at < duration\n          ? [\n            merge(item, { duration: at }),\n            merge(item, { duration: duration - at, time: time + at })\n          ]\n          : [item]\n      )()\n\nconst getMin     = c(reduce(min, Infinity), map(c(prop('duration'), head)))\nconst splitTimed = min => converge(concat, [c(splitItem(min), head), tail])\n\nexport default\n  c(\n    prop('merged'),\n    until(\n      c(all(isEmpty), prop('timeds')),\n      ({ merged, timeds }) =>\n        ((min = getMin(timeds)) =>\n          reduce(\n            (acc, timed) =>\n              timed.length\n                ? (([{ duration, time, ...data }, ...t] = splitTimed(min)(timed)) =>\n                    evolve({\n                      merged: adjust(-1, c(evolve({ merged: append(data) }), merge({ time, duration }))),\n                      timeds: append(t)\n                    })(acc)\n                  )()\n                : acc,\n            { merged: append({ merged: [] }, merged), timeds: [] },\n            timeds\n          )\n        )(),\n    ),\n    applySpec({\n      merged: _ => [],\n      timeds: _ => _,\n    })\n  )\n","export const itWorks = () => {\n  const total = 46\n  const str   = (i) =>\n    [\n      ['i', 0],\n      ['t', 3],\n      ['w', 9],\n      ['o', 14],\n      ['r', 18],\n      ['k', 22],\n      ['s', 26],\n      ['exl', 28],\n      ['exl', 30],\n      ['exl', 32],\n    ].map(([c, j]) => [c, 7 + j - i])\n\n  return {\n    bpm: 400,\n    state: [{\n      type: 'guitar',\n      tuning: 1,\n      from  : 0,\n      to    : 12,\n      layers: [\n        {\n          palette: 1,\n          root   : 'C',\n          scale  : 2,\n        },\n        ...str(0).map(\n          ([c, j]) =>\n            ({\n              clips  : [0, 1, 2, 3],\n              masking: [{ mask: c, offsetJ: j }],\n              palette: 0,\n              root   : 'C',\n              scale  : 2,\n            })\n        )\n      ],\n    }],\n    grid: {\n      sections: [\n        {\n          lines: [\n            {\n              bars: [\n                { items: [{ duration: total, chord: 'D' }] },\n              ]\n            },\n          ]\n        },\n      ]\n    },\n    timelines: [\n      {\n        sections: [\n          {\n            lines: [\n              {\n                bars: [...Array(total).keys()].map(\n                  time =>\n                    ({\n                      items: [{\n                        duration: 1,\n                        events: str(time).map(\n                          ([c, i], mask) =>\n                            ({ path: [0, 'layers', mask + 1, 'masking', 0, 'offsetJ'], value: i })\n                        )\n                      }]\n                    })\n                )\n              },\n            ]\n          },\n        ]\n      }\n    ],\n    masks: {\n      i: [\n        [],\n        [[6, 6]],\n        [[6, 6]],\n        [[6, 6]],\n        [[6, 6]],\n        [],\n      ],\n      t: [\n        [],\n        [[5, 7]],\n        [[6, 6]],\n        [[6, 6]],\n        [[6, 6]],\n        [],\n      ],\n      w: [\n        [],\n        [[4, 4], [8, 8]],\n        [[4, 4], [8, 8]],\n        [[4, 4], [6, 6], [8, 8]],\n        [[5, 5], [7, 7]],\n        [],\n      ],\n      o: [\n        [],\n        [[6, 6]],\n        [[5, 5], [7, 7]],\n        [[5, 5], [7, 7]],\n        [[6, 6]],\n        [],\n      ],\n      r: [\n        [],\n        [[5, 7]],\n        [[5, 5], [7, 7]],\n        [[5, 6]],\n        [[5, 5], [7, 7]],\n        [],\n      ],\n      k: [\n        [],\n        [[5, 5], [7, 7]],\n        [[5, 6]],\n        [[5, 6]],\n        [[5, 5], [7, 7]],\n        [],\n      ],\n      s: [\n        [],\n        [[5, 6]],\n        [[5, 5]],\n        [[6, 6]],\n        [[5, 6]],\n        [],\n      ],\n      exl: [\n        [],\n        [[6, 6]],\n        [[6, 6]],\n        [],\n        [[6, 6]],\n        [],\n      ],\n    }\n  }\n}\n","import { createStore } from 'redux'\nimport reducer         from './reducer'\nimport {\n  // bpm,\n  // grid,\n  // timelines,\n  // state,\n  src,\n  tunings,\n  palettes,\n  scales,\n  clips,\n  // masks,\n} from './data'\nimport {\n  itWorks,\n} from './itworks'\nimport getStates from '../lib/grid'\n\nconst { bpm, grid, timelines, state, masks } = itWorks()\nconst states = getStates(bpm, grid, timelines, state)\n\nconst initial = {\n  src,\n  grid,\n  states,\n  state: states[0].state,\n  tunings,\n  clips,\n  masks,\n  palettes,\n  scales,\n}\n\nconst store = createStore(\n  reducer,\n  initial,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n)\n\nwindow.store   = store\nwindow.initial = initial\nexport default store\n","import {\n  assocPath,\n  compose as c,\n  map,\n  prop,\n  reduce,\n  scan,\n  unnest,\n} from 'ramda'\n\nexport default\n  (bpm, state) =>\n    scan(\n      ({ state }, { time, duration, merged: [{ index }, ...events] }) => ({\n        index,\n        time    : 60 * time     / (bpm),\n        duration: 60 * duration / (bpm),\n        state   : reduce(\n          (state, { path, value }) => assocPath(path, value, state),\n          state,\n          c(unnest, map(prop('events')))(events)\n        )\n      }),\n      { time: 0, duration: 0, state },\n    )\n","import React       from 'react'\nimport Player      from './Player'\nimport InstrumentList from './InstrumentList'\n/* import Instrument  from './Instrument' */\nimport store  from '../store'\n\nconst state = store.getState()\n\nexport default () => (\n  <>\n    <Player src={ state.src } states={ state.states } />\n    {/* <Instrument /> */}\n    <InstrumentList />\n  </>\n)\n","import React                 from 'react'\nimport ReactDOM              from 'react-dom'\nimport { Provider }          from 'react-redux'\nimport registerServiceWorker from './registerServiceWorker'\n\nimport            './polyfills'\nimport App   from './components/App'\nimport store from './store/'\nimport './styles.scss'\n\n/* setTimeout(() => { */\n  ReactDOM.render((\n    <Provider store={ store }>\n      <App />\n    </Provider>\n  ),\n    document.getElementById('root'))\n  registerServiceWorker()\n  /* }, 100) */\n"],"sourceRoot":""}